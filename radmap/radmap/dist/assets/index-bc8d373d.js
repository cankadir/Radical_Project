(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))w(v);new MutationObserver(v=>{for(const P of v)if(P.type==="childList")for(const x of P.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&w(x)}).observe(document,{childList:!0,subtree:!0});function u(v){const P={};return v.integrity&&(P.integrity=v.integrity),v.referrerPolicy&&(P.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?P.credentials="include":v.crossOrigin==="anonymous"?P.credentials="omit":P.credentials="same-origin",P}function w(v){if(v.ep)return;v.ep=!0;const P=u(v);fetch(v.href,P)}})();function Pn(){}function pm(d,p){for(const u in p)d[u]=p[u];return d}function yh(d){return d()}function ih(){return Object.create(null)}function Ur(d){d.forEach(yh)}function wh(d){return typeof d=="function"}function gi(d,p){return d!=d?p==p:d!==p||d&&typeof d=="object"||typeof d=="function"}function mm(d){return Object.keys(d).length===0}function gm(d,...p){if(d==null)return Pn;const u=d.subscribe(...p);return u.unsubscribe?()=>u.unsubscribe():u}function xu(d,p,u){d.$$.on_destroy.push(gm(p,u))}function vm(d,p,u,w){if(d){const v=xh(d,p,u,w);return d[0](v)}}function xh(d,p,u,w){return d[1]&&w?pm(u.ctx.slice(),d[1](w(p))):u.ctx}function ym(d,p,u,w){if(d[2]&&w){const v=d[2](w(u));if(p.dirty===void 0)return v;if(typeof v=="object"){const P=[],x=Math.max(p.dirty.length,v.length);for(let M=0;M<x;M+=1)P[M]=p.dirty[M]|v[M];return P}return p.dirty|v}return p.dirty}function wm(d,p,u,w,v,P){if(v){const x=xh(p,u,w,P);d.p(x,v)}}function xm(d){if(d.ctx.length>32){const p=[],u=d.ctx.length/32;for(let w=0;w<u;w++)p[w]=-1;return p}return-1}function ot(d,p){d.appendChild(p)}function et(d,p,u){d.insertBefore(p,u||null)}function V(d){d.parentNode&&d.parentNode.removeChild(d)}function Lh(d,p){for(let u=0;u<d.length;u+=1)d[u]&&d[u].d(p)}function st(d){return document.createElement(d)}function Xt(d){return document.createTextNode(d)}function Nt(){return Xt(" ")}function Yi(){return Xt("")}function Ro(d,p,u,w){return d.addEventListener(p,u,w),()=>d.removeEventListener(p,u,w)}function ft(d,p,u){u==null?d.removeAttribute(p):d.getAttribute(p)!==u&&d.setAttribute(p,u)}function Lm(d){return Array.from(d.childNodes)}function Ue(d,p){p=""+p,d.wholeText!==p&&(d.data=p)}function bm(d,p,u,w){u===null?d.style.removeProperty(p):d.style.setProperty(p,u,w?"important":"")}let Zo;function ko(d){Zo=d}function Pm(){if(!Zo)throw new Error("Function called outside component initialization");return Zo}function bh(d){Pm().$$.on_mount.push(d)}const Nr=[],rh=[];let Wr=[];const oh=[],Tm=Promise.resolve();let yu=!1;function Sm(){yu||(yu=!0,Tm.then(Ph))}function wu(d){Wr.push(d)}const vu=new Set;let Rr=0;function Ph(){if(Rr!==0)return;const d=Zo;do{try{for(;Rr<Nr.length;){const p=Nr[Rr];Rr++,ko(p),Cm(p.$$)}}catch(p){throw Nr.length=0,Rr=0,p}for(ko(null),Nr.length=0,Rr=0;rh.length;)rh.pop()();for(let p=0;p<Wr.length;p+=1){const u=Wr[p];vu.has(u)||(vu.add(u),u())}Wr.length=0}while(Nr.length);for(;oh.length;)oh.pop()();yu=!1,vu.clear(),ko(d)}function Cm(d){if(d.fragment!==null){d.update(),Ur(d.before_update);const p=d.dirty;d.dirty=[-1],d.fragment&&d.fragment.p(d.ctx,p),d.after_update.forEach(wu)}}function Am(d){const p=[],u=[];Wr.forEach(w=>d.indexOf(w)===-1?p.push(w):u.push(w)),u.forEach(w=>w()),Wr=p}const Fs=new Set;let qi;function Th(){qi={r:0,c:[],p:qi}}function Sh(){qi.r||Ur(qi.c),qi=qi.p}function Be(d,p){d&&d.i&&(Fs.delete(d),d.i(p))}function ln(d,p,u,w){if(d&&d.o){if(Fs.has(d))return;Fs.add(d),qi.c.push(()=>{Fs.delete(d),w&&(u&&d.d(1),w())}),d.o(p)}else w&&w()}function Fr(d){d&&d.c()}function Gi(d,p,u,w){const{fragment:v,after_update:P}=d.$$;v&&v.m(p,u),w||wu(()=>{const x=d.$$.on_mount.map(yh).filter(wh);d.$$.on_destroy?d.$$.on_destroy.push(...x):Ur(x),d.$$.on_mount=[]}),P.forEach(wu)}function $i(d,p){const u=d.$$;u.fragment!==null&&(Am(u.after_update),Ur(u.on_destroy),u.fragment&&u.fragment.d(p),u.on_destroy=u.fragment=null,u.ctx=[])}function Em(d,p){d.$$.dirty[0]===-1&&(Nr.push(d),Sm(),d.$$.dirty.fill(0)),d.$$.dirty[p/31|0]|=1<<p%31}function Vi(d,p,u,w,v,P,x,M=[-1]){const S=Zo;ko(d);const O=d.$$={fragment:null,ctx:[],props:P,update:Pn,not_equal:v,bound:ih(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p.context||(S?S.$$.context:[])),callbacks:ih(),dirty:M,skip_bound:!1,root:p.target||S.$$.root};x&&x(O.root);let H=!1;if(O.ctx=u?u(d,p.props||{},(N,G,...k)=>{const K=k.length?k[0]:G;return O.ctx&&v(O.ctx[N],O.ctx[N]=K)&&(!O.skip_bound&&O.bound[N]&&O.bound[N](K),H&&Em(d,N)),G}):[],O.update(),H=!0,Ur(O.before_update),O.fragment=w?w(O.ctx):!1,p.target){if(p.hydrate){const N=Lm(p.target);O.fragment&&O.fragment.l(N),N.forEach(V)}else O.fragment&&O.fragment.c();p.intro&&Be(d.$$.fragment),Gi(d,p.target,p.anchor,p.customElement),Ph()}ko(S)}class Xi{$destroy(){$i(this,1),this.$destroy=Pn}$on(p,u){if(!wh(u))return Pn;const w=this.$$.callbacks[p]||(this.$$.callbacks[p]=[]);return w.push(u),()=>{const v=w.indexOf(u);v!==-1&&w.splice(v,1)}}$set(p){this.$$set&&!mm(p)&&(this.$$.skip_bound=!0,this.$$set(p),this.$$.skip_bound=!1)}}var Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Us={},Mm={get exports(){return Us},set exports(d){Us=d}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(d,p){(function(u,w){w(p)})(Dr,function(u){var w="1.9.3";function v(t){var n,r,s,l;for(r=1,s=arguments.length;r<s;r++){l=arguments[r];for(n in l)t[n]=l[n]}return t}var P=Object.create||function(){function t(){}return function(n){return t.prototype=n,new t}}();function x(t,n){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var s=r.call(arguments,2);return function(){return t.apply(n,s.length?s.concat(r.call(arguments)):arguments)}}var M=0;function S(t){return"_leaflet_id"in t||(t._leaflet_id=++M),t._leaflet_id}function O(t,n,r){var s,l,f,m;return m=function(){s=!1,l&&(f.apply(r,l),l=!1)},f=function(){s?l=arguments:(t.apply(r,arguments),setTimeout(m,n),s=!0)},f}function H(t,n,r){var s=n[1],l=n[0],f=s-l;return t===s&&r?t:((t-l)%f+f)%f+l}function N(){return!1}function G(t,n){if(n===!1)return t;var r=Math.pow(10,n===void 0?6:n);return Math.round(t*r)/r}function k(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function K(t){return k(t).split(/\s+/)}function D(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?P(t.options):{});for(var r in n)t.options[r]=n[r];return t.options}function it(t,n,r){var s=[];for(var l in t)s.push(encodeURIComponent(r?l.toUpperCase():l)+"="+encodeURIComponent(t[l]));return(!n||n.indexOf("?")===-1?"?":"&")+s.join("&")}var Et=/\{ *([\w_ -]+) *\}/g;function dt(t,n){return t.replace(Et,function(r,s){var l=n[s];if(l===void 0)throw new Error("No value provided for variable "+r);return typeof l=="function"&&(l=l(n)),l})}var U=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Qt(t,n){for(var r=0;r<t.length;r++)if(t[r]===n)return r;return-1}var Ft="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Bt(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ct=0;function Dt(t){var n=+new Date,r=Math.max(0,16-(n-ct));return ct=n+r,window.setTimeout(t,r)}var we=window.requestAnimationFrame||Bt("RequestAnimationFrame")||Dt,Ji=window.cancelAnimationFrame||Bt("CancelAnimationFrame")||Bt("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ne(t,n,r){if(r&&we===Dt)t.call(n);else return we.call(window,x(t,n))}function xe(t){t&&Ji.call(window,t)}var Gs={__proto__:null,extend:v,create:P,bind:x,get lastId(){return M},stamp:S,throttle:O,wrapNum:H,falseFn:N,formatNum:G,trim:k,splitWords:K,setOptions:D,getParamString:it,template:dt,isArray:U,indexOf:Qt,emptyImageUrl:Ft,requestFn:we,cancelFn:Ji,requestAnimFrame:ne,cancelAnimFrame:xe};function qe(){}qe.extend=function(t){var n=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,s=P(r);s.constructor=n,n.prototype=s;for(var l in this)Object.prototype.hasOwnProperty.call(this,l)&&l!=="prototype"&&l!=="__super__"&&(n[l]=this[l]);return t.statics&&v(n,t.statics),t.includes&&($s(t.includes),v.apply(null,[s].concat(t.includes))),v(s,t),delete s.statics,delete s.includes,s.options&&(s.options=r.options?P(r.options):{},v(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,m=s._initHooks.length;f<m;f++)s._initHooks[f].call(this)}},n},qe.include=function(t){var n=this.prototype.options;return v(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},qe.mergeOptions=function(t){return v(this.prototype.options,t),this},qe.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function $s(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=U(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ue={on:function(t,n,r){if(typeof t=="object")for(var s in t)this._on(s,t[s],n);else{t=K(t);for(var l=0,f=t.length;l<f;l++)this._on(t[l],n,r)}return this},off:function(t,n,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var s in t)this._off(s,t[s],n);else{t=K(t);for(var l=arguments.length===1,f=0,m=t.length;f<m;f++)l?this._off(t[f]):this._off(t[f],n,r)}return this},_on:function(t,n,r,s){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(t,n,r)===!1){r===this&&(r=void 0);var l={fn:n,ctx:r};s&&(l.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(l)}},_off:function(t,n,r){var s,l,f;if(this._events&&(s=this._events[t],!!s)){if(arguments.length===1){if(this._firingCount)for(l=0,f=s.length;l<f;l++)s[l].fn=N;delete this._events[t];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var m=this._listens(t,n,r);if(m!==!1){var C=s[m];this._firingCount&&(C.fn=N,this._events[t]=s=s.slice()),s.splice(m,1)}}},fire:function(t,n,r){if(!this.listens(t,r))return this;var s=v({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var l=this._events[t];if(l){this._firingCount=this._firingCount+1||1;for(var f=0,m=l.length;f<m;f++){var C=l[f],E=C.fn;C.once&&this.off(t,E,C.ctx),E.call(C.ctx||this,s)}this._firingCount--}}return r&&this._propagateEvent(s),this},listens:function(t,n,r,s){typeof t!="string"&&console.warn('"string" type argument expected');var l=n;typeof n!="function"&&(s=!!n,l=void 0,r=void 0);var f=this._events&&this._events[t];if(f&&f.length&&this._listens(t,l,r)!==!1)return!0;if(s){for(var m in this._eventParents)if(this._eventParents[m].listens(t,n,r,s))return!0}return!1},_listens:function(t,n,r){if(!this._events)return!1;var s=this._events[t]||[];if(!n)return!!s.length;r===this&&(r=void 0);for(var l=0,f=s.length;l<f;l++)if(s[l].fn===n&&s[l].ctx===r)return l;return!1},once:function(t,n,r){if(typeof t=="object")for(var s in t)this._on(s,t[s],n,!0);else{t=K(t);for(var l=0,f=t.length;l<f;l++)this._on(t[l],n,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[S(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[S(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,v({layer:t.target,propagatedFrom:t.target},t),!0)}};ue.addEventListener=ue.on,ue.removeEventListener=ue.clearAllEventListeners=ue.off,ue.addOneTimeEventListener=ue.once,ue.fireEvent=ue.fire,ue.hasEventListeners=ue.listens;var ke=qe.extend(ue);function X(t,n,r){this.x=r?Math.round(t):t,this.y=r?Math.round(n):n}var No=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(t){return this.clone()._add(nt(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(nt(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new X(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new X(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=No(this.x),this.y=No(this.y),this},distanceTo:function(t){t=nt(t);var n=t.x-this.x,r=t.y-this.y;return Math.sqrt(n*n+r*r)},equals:function(t){return t=nt(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=nt(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+G(this.x)+", "+G(this.y)+")"}};function nt(t,n,r){return t instanceof X?t:U(t)?new X(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new X(t.x,t.y):new X(t,n,r)}function bt(t,n){if(t)for(var r=n?[t,n]:t,s=0,l=r.length;s<l;s++)this.extend(r[s])}bt.prototype={extend:function(t){var n,r;if(!t)return this;if(t instanceof X||typeof t[0]=="number"||"x"in t)n=r=nt(t);else if(t=ie(t),n=t.min,r=t.max,!n||!r)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=r.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return nt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return nt(this.min.x,this.max.y)},getTopRight:function(){return nt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,r;return typeof t[0]=="number"||t instanceof X?t=nt(t):t=ie(t),t instanceof bt?(n=t.min,r=t.max):n=r=t,n.x>=this.min.x&&r.x<=this.max.x&&n.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=ie(t);var n=this.min,r=this.max,s=t.min,l=t.max,f=l.x>=n.x&&s.x<=r.x,m=l.y>=n.y&&s.y<=r.y;return f&&m},overlaps:function(t){t=ie(t);var n=this.min,r=this.max,s=t.min,l=t.max,f=l.x>n.x&&s.x<r.x,m=l.y>n.y&&s.y<r.y;return f&&m},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var n=this.min,r=this.max,s=Math.abs(n.x-r.x)*t,l=Math.abs(n.y-r.y)*t;return ie(nt(n.x-s,n.y-l),nt(r.x+s,r.y+l))},equals:function(t){return t?(t=ie(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function ie(t,n){return!t||t instanceof bt?t:new bt(t,n)}function re(t,n){if(t)for(var r=n?[t,n]:t,s=0,l=r.length;s<l;s++)this.extend(r[s])}re.prototype={extend:function(t){var n=this._southWest,r=this._northEast,s,l;if(t instanceof xt)s=t,l=t;else if(t instanceof re){if(s=t._southWest,l=t._northEast,!s||!l)return this}else return t?this.extend(Ct(t)||Yt(t)):this;return!n&&!r?(this._southWest=new xt(s.lat,s.lng),this._northEast=new xt(l.lat,l.lng)):(n.lat=Math.min(s.lat,n.lat),n.lng=Math.min(s.lng,n.lng),r.lat=Math.max(l.lat,r.lat),r.lng=Math.max(l.lng,r.lng)),this},pad:function(t){var n=this._southWest,r=this._northEast,s=Math.abs(n.lat-r.lat)*t,l=Math.abs(n.lng-r.lng)*t;return new re(new xt(n.lat-s,n.lng-l),new xt(r.lat+s,r.lng+l))},getCenter:function(){return new xt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xt(this.getNorth(),this.getWest())},getSouthEast:function(){return new xt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof xt||"lat"in t?t=Ct(t):t=Yt(t);var n=this._southWest,r=this._northEast,s,l;return t instanceof re?(s=t.getSouthWest(),l=t.getNorthEast()):s=l=t,s.lat>=n.lat&&l.lat<=r.lat&&s.lng>=n.lng&&l.lng<=r.lng},intersects:function(t){t=Yt(t);var n=this._southWest,r=this._northEast,s=t.getSouthWest(),l=t.getNorthEast(),f=l.lat>=n.lat&&s.lat<=r.lat,m=l.lng>=n.lng&&s.lng<=r.lng;return f&&m},overlaps:function(t){t=Yt(t);var n=this._southWest,r=this._northEast,s=t.getSouthWest(),l=t.getNorthEast(),f=l.lat>n.lat&&s.lat<r.lat,m=l.lng>n.lng&&s.lng<r.lng;return f&&m},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=Yt(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Yt(t,n){return t instanceof re?t:new re(t,n)}function xt(t,n,r){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,r!==void 0&&(this.alt=+r)}xt.prototype={equals:function(t,n){if(!t)return!1;t=Ct(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+G(this.lat,t)+", "+G(this.lng,t)+")"},distanceTo:function(t){return Le.distance(this,Ct(t))},wrap:function(){return Le.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,r=n/Math.cos(Math.PI/180*this.lat);return Yt([this.lat-n,this.lng-r],[this.lat+n,this.lng+r])},clone:function(){return new xt(this.lat,this.lng,this.alt)}};function Ct(t,n,r){return t instanceof xt?t:U(t)&&typeof t[0]!="object"?t.length===3?new xt(t[0],t[1],t[2]):t.length===2?new xt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new xt(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new xt(t,n,r)}var Qe={latLngToPoint:function(t,n){var r=this.projection.project(t),s=this.scale(n);return this.transformation._transform(r,s)},pointToLatLng:function(t,n){var r=this.scale(n),s=this.transformation.untransform(t,r);return this.projection.unproject(s)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,r=this.scale(t),s=this.transformation.transform(n.min,r),l=this.transformation.transform(n.max,r);return new bt(s,l)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?H(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?H(t.lat,this.wrapLat,!0):t.lat,s=t.alt;return new xt(r,n,s)},wrapLatLngBounds:function(t){var n=t.getCenter(),r=this.wrapLatLng(n),s=n.lat-r.lat,l=n.lng-r.lng;if(s===0&&l===0)return t;var f=t.getSouthWest(),m=t.getNorthEast(),C=new xt(f.lat-s,f.lng-l),E=new xt(m.lat-s,m.lng-l);return new re(C,E)}},Le=v({},Qe,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var r=Math.PI/180,s=t.lat*r,l=n.lat*r,f=Math.sin((n.lat-t.lat)*r/2),m=Math.sin((n.lng-t.lng)*r/2),C=f*f+Math.cos(s)*Math.cos(l)*m*m,E=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*E}}),Kn=6378137,Gr={R:Kn,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,r=this.MAX_LATITUDE,s=Math.max(Math.min(r,t.lat),-r),l=Math.sin(s*n);return new X(this.R*t.lng*n,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(t){var n=180/Math.PI;return new xt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:function(){var t=Kn*Math.PI;return new bt([-t,-t],[t,t])}()};function Yn(t,n,r,s){if(U(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=r,this._d=s}Yn.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new X((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function hn(t,n,r,s){return new Yn(t,n,r,s)}var Qi=v({},Le,{code:"EPSG:3857",projection:Gr,transformation:function(){var t=.5/(Math.PI*Gr.R);return hn(t,.5,-t,.5)}()}),Re=v({},Qi,{code:"EPSG:900913"});function Vn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Do(t,n){var r="",s,l,f,m,C,E;for(s=0,f=t.length;s<f;s++){for(C=t[s],l=0,m=C.length;l<m;l++)E=C[l],r+=(l?"L":"M")+E.x+" "+E.y;r+=n?Y.svg?"z":"x":""}return r||"M0 0"}var Ze=document.documentElement.style,vi="ActiveXObject"in window,Ks=vi&&!document.addEventListener,Xn="msLaunchUri"in navigator&&!("documentMode"in document),le=Ge("webkit"),Jn=Ge("android"),yi=Ge("android 2")||Ge("android 3"),Ys=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wi=Jn&&Ge("Google")&&Ys<537&&!("AudioNode"in window),$r=!!window.opera,Qn=!Xn&&Ge("chrome"),Tn=Ge("gecko")&&!le&&!$r&&!vi,Kr=!Qn&&Ge("safari"),ji=Ge("phantom"),tr="OTransition"in Ze,Yr=navigator.platform.indexOf("Win")===0,er=vi&&"transition"in Ze,xi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!yi,nr="MozPerspective"in Ze,Vr=!window.L_DISABLE_3D&&(er||xi||nr)&&!tr&&!ji,Sn=typeof orientation<"u"||Ge("mobile"),Vs=Sn&&le,Xs=Sn&&xi,Wo=!window.PointerEvent&&window.MSPointerEvent,Xr=!!(window.PointerEvent||Wo),Jr="ontouchstart"in window||!!window.TouchEvent,Js=!window.L_NO_TOUCH&&(Jr||Xr),Qs=Sn&&$r,js=Sn&&Tn,ta=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fo=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",N,n),window.removeEventListener("testPassiveEventSupport",N,n)}catch{}return t}(),ea=function(){return!!document.createElement("canvas").getContext}(),Qr=!!(document.createElementNS&&Vn("svg").createSVGRect),na=!!Qr&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),jr=!Qr&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),ia=navigator.platform.indexOf("Mac")===0,to=navigator.platform.indexOf("Linux")===0;function Ge(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Y={ie:vi,ielt9:Ks,edge:Xn,webkit:le,android:Jn,android23:yi,androidStock:wi,opera:$r,chrome:Qn,gecko:Tn,safari:Kr,phantom:ji,opera12:tr,win:Yr,ie3d:er,webkit3d:xi,gecko3d:nr,any3d:Vr,mobile:Sn,mobileWebkit:Vs,mobileWebkit3d:Xs,msPointer:Wo,pointer:Xr,touch:Js,touchNative:Jr,mobileOpera:Qs,mobileGecko:js,retina:ta,passiveEvents:Fo,canvas:ea,svg:Qr,vml:jr,inlineSvg:na,mac:ia,linux:to},Ho=Y.msPointer?"MSPointerDown":"pointerdown",Uo=Y.msPointer?"MSPointerMove":"pointermove",qo=Y.msPointer?"MSPointerUp":"pointerup",Go=Y.msPointer?"MSPointerCancel":"pointercancel",eo={touchstart:Ho,touchmove:Uo,touchend:qo,touchcancel:Go},$o={touchstart:or,touchmove:rr,touchend:rr,touchcancel:rr},Cn={},Ko=!1;function ra(t,n,r){return n==="touchstart"&&ir(),$o[n]?(r=$o[n].bind(this,r),t.addEventListener(eo[n],r,!1),r):(console.warn("wrong event specified:",n),N)}function oa(t,n,r){if(!eo[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(eo[n],r,!1)}function sa(t){Cn[t.pointerId]=t}function aa(t){Cn[t.pointerId]&&(Cn[t.pointerId]=t)}function Yo(t){delete Cn[t.pointerId]}function ir(){Ko||(document.addEventListener(Ho,sa,!0),document.addEventListener(Uo,aa,!0),document.addEventListener(qo,Yo,!0),document.addEventListener(Go,Yo,!0),Ko=!0)}function rr(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var r in Cn)n.touches.push(Cn[r]);n.changedTouches=[n],t(n)}}function or(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&lt(n),rr(t,n)}function ua(t){var n={},r,s;for(s in t)r=t[s],n[s]=r&&r.bind?r.bind(t):r;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var la=200;function ha(t,n){t.addEventListener("dblclick",n);var r=0,s;function l(f){if(f.detail!==1){s=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var m=ns(f);if(!(m.some(function(E){return E instanceof HTMLLabelElement&&E.attributes.for})&&!m.some(function(E){return E instanceof HTMLInputElement||E instanceof HTMLSelectElement}))){var C=Date.now();C-r<=la?(s++,s===2&&n(ua(f))):s=1,r=C}}}return t.addEventListener("click",l),{dblclick:n,simDblclick:l}}function Vo(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var sr=ti(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),jn=ti(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xo=jn==="webkitTransition"||jn==="OTransition"?jn+"End":"transitionend";function Jo(t){return typeof t=="string"?document.getElementById(t):t}function Li(t,n){var r=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!r||r==="auto")&&document.defaultView){var s=document.defaultView.getComputedStyle(t,null);r=s?s[n]:null}return r==="auto"?null:r}function Pt(t,n,r){var s=document.createElement(t);return s.className=n||"",r&&r.appendChild(s),s}function kt(t){var n=t.parentNode;n&&n.removeChild(t)}function bi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function An(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function fn(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function no(t,n){if(t.classList!==void 0)return t.classList.contains(n);var r=ur(t);return r.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(r)}function ut(t,n){if(t.classList!==void 0)for(var r=K(n),s=0,l=r.length;s<l;s++)t.classList.add(r[s]);else if(!no(t,n)){var f=ur(t);ar(t,(f?f+" ":"")+n)}}function Rt(t,n){t.classList!==void 0?t.classList.remove(n):ar(t,k((" "+ur(t)+" ").replace(" "+n+" "," ")))}function ar(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function ur(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function he(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&Qo(t,n)}function Qo(t,n){var r=!1,s="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(s)}catch{if(n===1)return}n=Math.round(n*100),r?(r.Enabled=n!==100,r.Opacity=n):t.style.filter+=" progid:"+s+"(opacity="+n+")"}function ti(t){for(var n=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in n)return t[r];return!1}function En(t,n,r){var s=n||new X(0,0);t.style[sr]=(Y.ie3d?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(r?" scale("+r+")":"")}function Ht(t,n){t._leaflet_pos=n,Y.any3d?En(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function je(t){return t._leaflet_pos||new X(0,0)}var Mn,$e,lr;if("onselectstart"in document)Mn=function(){at(window,"selectstart",lt)},$e=function(){Ot(window,"selectstart",lt)};else{var ei=ti(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mn=function(){if(ei){var t=document.documentElement.style;lr=t[ei],t[ei]="none"}},$e=function(){ei&&(document.documentElement.style[ei]=lr,lr=void 0)}}function io(){at(window,"dragstart",lt)}function hr(){Ot(window,"dragstart",lt)}var Pi,fr;function cr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(_r(),Pi=t,fr=t.style.outline,t.style.outline="none",at(window,"keydown",_r))}function _r(){Pi&&(Pi.style.outline=fr,Pi=void 0,fr=void 0,Ot(window,"keydown",_r))}function jo(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ro(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var ts={__proto__:null,TRANSFORM:sr,TRANSITION:jn,TRANSITION_END:Xo,get:Jo,getStyle:Li,create:Pt,remove:kt,empty:bi,toFront:An,toBack:fn,hasClass:no,addClass:ut,removeClass:Rt,setClass:ar,getClass:ur,setOpacity:he,testProp:ti,setTransform:En,setPosition:Ht,getPosition:je,get disableTextSelection(){return Mn},get enableTextSelection(){return $e},disableImageDrag:io,enableImageDrag:hr,preventOutline:cr,restoreOutline:_r,getSizedParentNode:jo,getScale:ro};function at(t,n,r,s){if(n&&typeof n=="object")for(var l in n)oo(t,l,n[l],r);else{n=K(n);for(var f=0,m=n.length;f<m;f++)oo(t,n[f],r,s)}return this}var Ke="_leaflet_events";function Ot(t,n,r,s){if(arguments.length===1)es(t),delete t[Ke];else if(n&&typeof n=="object")for(var l in n)so(t,l,n[l],r);else if(n=K(n),arguments.length===2)es(t,function(C){return Qt(n,C)!==-1});else for(var f=0,m=n.length;f<m;f++)so(t,n[f],r,s);return this}function es(t,n){for(var r in t[Ke]){var s=r.split(/\d/)[0];(!n||n(s))&&so(t,s,null,null,r)}}var Ti={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function oo(t,n,r,s){var l=n+S(r)+(s?"_"+S(s):"");if(t[Ke]&&t[Ke][l])return this;var f=function(C){return r.call(s||t,C||window.event)},m=f;!Y.touchNative&&Y.pointer&&n.indexOf("touch")===0?f=ra(t,n,f):Y.touch&&n==="dblclick"?f=ha(t,f):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(Ti[n]||n,f,Y.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(f=function(C){C=C||window.event,uo(t,C)&&m(C)},t.addEventListener(Ti[n],f,!1)):t.addEventListener(n,m,!1):t.attachEvent("on"+n,f),t[Ke]=t[Ke]||{},t[Ke][l]=f}function so(t,n,r,s,l){l=l||n+S(r)+(s?"_"+S(s):"");var f=t[Ke]&&t[Ke][l];if(!f)return this;!Y.touchNative&&Y.pointer&&n.indexOf("touch")===0?oa(t,n,f):Y.touch&&n==="dblclick"?Vo(t,f):"removeEventListener"in t?t.removeEventListener(Ti[n]||n,f,!1):t.detachEvent("on"+n,f),t[Ke][l]=null}function In(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ao(t){return oo(t,"wheel",In),this}function Si(t){return at(t,"mousedown touchstart dblclick contextmenu",In),t._leaflet_disable_click=!0,this}function lt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Tt(t){return lt(t),In(t),this}function ns(t){if(t.composedPath)return t.composedPath();for(var n=[],r=t.target;r;)n.push(r),r=r.parentNode;return n}function is(t,n){if(!n)return new X(t.clientX,t.clientY);var r=ro(n),s=r.boundingClientRect;return new X((t.clientX-s.left)/r.x-n.clientLeft,(t.clientY-s.top)/r.y-n.clientTop)}var fa=Y.linux&&Y.chrome?window.devicePixelRatio:Y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rs(t){return Y.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/fa:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function uo(t,n){var r=n.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var ca={__proto__:null,on:at,off:Ot,stopPropagation:In,disableScrollPropagation:ao,disableClickPropagation:Si,preventDefault:lt,stop:Tt,getPropagationPath:ns,getMousePosition:is,getWheelDelta:rs,isExternalTarget:uo,addListener:at,removeListener:Ot},lo=ke.extend({run:function(t,n,r,s){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=je(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ne(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,r=this._duration*1e3;n<r?this._runFrame(this._easeOut(n/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var r=this._startPos.add(this._offset.multiplyBy(t));n&&r._round(),Ht(this._el,r),this.fire("step")},_complete:function(){xe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),wt=ke.extend({options:{crs:Qi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=D(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=x(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(Ct(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=jn&&Y.any3d&&!Y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),at(this._proxy,Xo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,r){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(Ct(t),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=v({animate:r.animate},r.zoom),r.pan=v({animate:r.animate,duration:r.duration},r.pan));var s=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,r.zoom):this._tryAnimatedPan(t,r.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,r){var s=this.getZoomScale(n),l=this.getSize().divideBy(2),f=t instanceof X?t:this.latLngToContainerPoint(t),m=f.subtract(l).multiplyBy(1-1/s),C=this.containerPointToLatLng(l.add(m));return this.setView(C,n,{zoom:r})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():Yt(t);var r=nt(n.paddingTopLeft||n.padding||[0,0]),s=nt(n.paddingBottomRight||n.padding||[0,0]),l=this.getBoundsZoom(t,!1,r.add(s));if(l=typeof n.maxZoom=="number"?Math.min(n.maxZoom,l):l,l===1/0)return{center:t.getCenter(),zoom:l};var f=s.subtract(r).divideBy(2),m=this.project(t.getSouthWest(),l),C=this.project(t.getNorthEast(),l),E=this.unproject(m.add(C).divideBy(2).add(f),l);return{center:E,zoom:l}},fitBounds:function(t,n){if(t=Yt(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,n);return this.setView(r.center,r.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=nt(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,r){if(r=r||{},r.animate===!1||!Y.any3d)return this.setView(t,n,r);this._stop();var s=this.project(this.getCenter()),l=this.project(t),f=this.getSize(),m=this._zoom;t=Ct(t),n=n===void 0?m:n;var C=Math.max(f.x,f.y),E=C*this.getZoomScale(m,n),R=l.distanceTo(s)||1,F=1.42,Q=F*F;function _t(Zt){var yn=Zt?-1:1,vs=Zt?E:C,c=E*E-C*C+yn*Q*Q*R*R,li=2*vs*Q*R,hi=c/li,me=Math.sqrt(hi*hi+1)-hi,vt=me<1e-9?-18:Math.log(me);return vt}function se(Zt){return(Math.exp(Zt)-Math.exp(-Zt))/2}function Ae(Zt){return(Math.exp(Zt)+Math.exp(-Zt))/2}function vn(Zt){return se(Zt)/Ae(Zt)}var Ee=_t(0);function ai(Zt){return C*(Ae(Ee)/Ae(Ee+F*Zt))}function ui(Zt){return C*(Ae(Ee)*vn(Ee+F*Zt)-se(Ee))/Q}function Ta(Zt){return 1-Math.pow(1-Zt,1.5)}var Sa=Date.now(),ms=(_t(1)-Ee)/F,Ca=r.duration?1e3*r.duration:1e3*ms*.8;function gs(){var Zt=(Date.now()-Sa)/Ca,yn=Ta(Zt)*ms;Zt<=1?(this._flyToFrame=ne(gs,this),this._move(this.unproject(s.add(l.subtract(s).multiplyBy(ui(yn)/R)),m),this.getScaleZoom(C/ai(yn),m),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),gs.call(this),this},flyToBounds:function(t,n){var r=this._getBoundsCenterZoom(t,n);return this.flyTo(r.center,r.zoom,n)},setMaxBounds:function(t){return t=Yt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var r=this.getCenter(),s=this._limitCenter(r,this._zoom,Yt(t));return r.equals(s)||this.panTo(s,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var r=nt(n.paddingTopLeft||n.padding||[0,0]),s=nt(n.paddingBottomRight||n.padding||[0,0]),l=this.project(this.getCenter()),f=this.project(t),m=this.getPixelBounds(),C=ie([m.min.add(r),m.max.subtract(s)]),E=C.getSize();if(!C.contains(f)){this._enforcingBounds=!0;var R=f.subtract(C.getCenter()),F=C.extend(f).getSize().subtract(E);l.x+=R.x<0?-F.x:F.x,l.y+=R.y<0?-F.y:F.y,this.panTo(this.unproject(l),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=v({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),s=n.divideBy(2).round(),l=r.divideBy(2).round(),f=s.subtract(l);return!f.x&&!f.y?this:(t.animate&&t.pan?this.panBy(f):(t.pan&&this._rawPanBy(f),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(x(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=v({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=x(this._handleGeolocationResponse,this),r=x(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,t):navigator.geolocation.getCurrentPosition(n,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var n=t.code,r=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var n=t.coords.latitude,r=t.coords.longitude,s=new xt(n,r),l=s.toBounds(t.coords.accuracy*2),f=this._locateOptions;if(f.setView){var m=this.getBoundsZoom(l);this.setView(s,f.maxZoom?Math.min(m,f.maxZoom):m)}var C={latlng:s,bounds:l,timestamp:t.timestamp};for(var E in t.coords)typeof t.coords[E]=="number"&&(C[E]=t.coords[E]);this.fire("locationfound",C)}},addHandler:function(t,n){if(!n)return this;var r=this[t]=new n(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(xe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)kt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),s=Pt("div",r,n||this._mapPane);return t&&(this._panes[t]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new re(n,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,r){t=Yt(t),r=nt(r||[0,0]);var s=this.getZoom()||0,l=this.getMinZoom(),f=this.getMaxZoom(),m=t.getNorthWest(),C=t.getSouthEast(),E=this.getSize().subtract(r),R=ie(this.project(C,s),this.project(m,s)).getSize(),F=Y.any3d?this.options.zoomSnap:1,Q=E.x/R.x,_t=E.y/R.y,se=n?Math.max(Q,_t):Math.min(Q,_t);return s=this.getScaleZoom(se,s),F&&(s=Math.round(s/(F/100))*(F/100),s=n?Math.ceil(s/F)*F:Math.floor(s/F)*F),Math.max(l,Math.min(f,s))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var r=this._getTopLeftPoint(t,n);return new bt(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var r=this.options.crs;return n=n===void 0?this._zoom:n,r.scale(t)/r.scale(n)},getScaleZoom:function(t,n){var r=this.options.crs;n=n===void 0?this._zoom:n;var s=r.zoom(t*r.scale(n));return isNaN(s)?1/0:s},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(Ct(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(nt(t),n)},layerPointToLatLng:function(t){var n=nt(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(Ct(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Ct(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Yt(t))},distance:function(t,n){return this.options.crs.distance(Ct(t),Ct(n))},containerPointToLayerPoint:function(t){return nt(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return nt(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(nt(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ct(t)))},mouseEventToContainerPoint:function(t){return is(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=Jo(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");at(n,"scroll",this._onScroll,this),this._containerId=S(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Y.any3d,ut(t,"leaflet-container"+(Y.touch?" leaflet-touch":"")+(Y.retina?" leaflet-retina":"")+(Y.ielt9?" leaflet-oldie":"")+(Y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=Li(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ht(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(t.markerPane,"leaflet-zoom-hide"),ut(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n,r){Ht(this._mapPane,new X(0,0));var s=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var l=this._zoom!==n;this._moveStart(l,r)._move(t,n)._moveEnd(l),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,r,s){n===void 0&&(n=this._zoom);var l=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),s?r&&r.pinch&&this.fire("zoom",r):((l||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return xe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ht(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[S(this._container)]=this;var n=t?Ot:at;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),Y.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){xe(this._resizeRequest),this._resizeRequest=ne(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var r=[],s,l=n==="mouseout"||n==="mouseover",f=t.target||t.srcElement,m=!1;f;){if(s=this._targets[S(f)],s&&(n==="click"||n==="preclick")&&this._draggableMoved(s)){m=!0;break}if(s&&s.listens(n,!0)&&(l&&!uo(f,t)||(r.push(s),l))||f===this._container)break;f=f.parentNode}return!r.length&&!m&&!l&&this.listens(n,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var r=t.type;r==="mousedown"&&cr(n),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,r){if(t.type==="click"){var s=v({},t);s.type="preclick",this._fireDOMEvent(s,s.type,r)}var l=this._findEventTargets(t,n);if(r){for(var f=[],m=0;m<r.length;m++)r[m].listens(n,!0)&&f.push(r[m]);l=f.concat(l)}if(l.length){n==="contextmenu"&&lt(t);var C=l[0],E={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var R=C.getLatLng&&(!C._radius||C._radius<=10);E.containerPoint=R?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(t),E.layerPoint=this.containerPointToLayerPoint(E.containerPoint),E.latlng=R?C.getLatLng():this.layerPointToLatLng(E.layerPoint)}for(m=0;m<l.length;m++)if(l[m].fire(n,E,!0),E.originalEvent._stopped||l[m].options.bubblingMouseEvents===!1&&Qt(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return je(this._mapPane)||new X(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var r=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var r=this.getSize()._divideBy(2);return this.project(t,n)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,r){var s=this._getNewPixelOrigin(r,n);return this.project(t,n)._subtract(s)},_latLngBoundsToNewLayerBounds:function(t,n,r){var s=this._getNewPixelOrigin(r,n);return ie([this.project(t.getSouthWest(),n)._subtract(s),this.project(t.getNorthWest(),n)._subtract(s),this.project(t.getSouthEast(),n)._subtract(s),this.project(t.getNorthEast(),n)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,r){if(!r)return t;var s=this.project(t,n),l=this.getSize().divideBy(2),f=new bt(s.subtract(l),s.add(l)),m=this._getBoundsOffset(f,r,n);return Math.abs(m.x)<=1&&Math.abs(m.y)<=1?t:this.unproject(s.add(m),n)},_limitOffset:function(t,n){if(!n)return t;var r=this.getPixelBounds(),s=new bt(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(s,n))},_getBoundsOffset:function(t,n,r){var s=ie(this.project(n.getNorthEast(),r),this.project(n.getSouthWest(),r)),l=s.min.subtract(t.min),f=s.max.subtract(t.max),m=this._rebound(l.x,-f.x),C=this._rebound(l.y,-f.y);return new X(m,C)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),r=this.getMaxZoom(),s=Y.any3d?this.options.zoomSnap:1;return s&&(t=Math.round(t/s)*s),Math.max(n,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var r=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,n),!0)},_createAnimProxy:function(){var t=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var r=sr,s=this._proxy.style[r];En(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),s===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();En(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(n),l=this._getCenterOffset(t)._divideBy(1-1/s);return r.animate!==!0&&!this.getSize().contains(l)?!1:(ne(function(){this._moveStart(!0,!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,r,s){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:s}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(x(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jt(t,n){return new wt(t,n)}var fe=qe.extend({options:{position:"topright"},initialize:function(t){D(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),r=this.getPosition(),s=t._controlCorners[r];return ut(n,"leaflet-control"),r.indexOf("bottom")!==-1?s.insertBefore(n,s.firstChild):s.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ne=function(t){return new fe(t)};wt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",r=this._controlContainer=Pt("div",n+"control-container",this._container);function s(l,f){var m=n+l+" "+n+f;t[l+f]=Pt("div",m,r)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)kt(this._controlCorners[t]);kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ho=fe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,r,s){return r<s?-1:s<r?1:0}},initialize:function(t,n,r){D(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var s in t)this._addLayer(t[s],s);for(s in n)this._addLayer(n[s],s,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return fe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(S(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Rt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=Pt("div",t),r=this.options.collapsed;n.setAttribute("aria-haspopup",!0),Si(n),ao(n);var s=this._section=Pt("section",t+"-list");r&&(this._map.on("click",this.collapse,this),at(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var l=this._layersLink=Pt("a",t+"-toggle",n);l.href="#",l.title="Layers",l.setAttribute("role","button"),at(l,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){lt(f),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=Pt("div",t+"-base",s),this._separator=Pt("div",t+"-separator",s),this._overlaysList=Pt("div",t+"-overlays",s),n.appendChild(s)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&S(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:r}),this.options.sortLayers&&this._layers.sort(x(function(s,l){return this.options.sortFunction(s.layer,l.layer,s.name,l.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bi(this._baseLayersList),bi(this._overlaysList),this._layerControlInputs=[];var t,n,r,s,l=0;for(r=0;r<this._layers.length;r++)s=this._layers[r],this._addItem(s),n=n||s.overlay,t=t||!s.overlay,l+=s.overlay?0:1;return this.options.hideSingleBase&&(t=t&&l>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(S(t.target)),r=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,n)},_createRadioElement:function(t,n){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=r,s.firstChild},_addItem:function(t){var n=document.createElement("label"),r=this._map.hasLayer(t.layer),s;t.overlay?(s=document.createElement("input"),s.type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=r):s=this._createRadioElement("leaflet-base-layers_"+S(this),r),this._layerControlInputs.push(s),s.layerId=S(t.layer),at(s,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+t.name;var f=document.createElement("span");n.appendChild(f),f.appendChild(s),f.appendChild(l);var m=t.overlay?this._overlaysList:this._baseLayersList;return m.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t=this._layerControlInputs,n,r,s=[],l=[];this._handlingClick=!0;for(var f=t.length-1;f>=0;f--)n=t[f],r=this._getLayer(n.layerId).layer,n.checked?s.push(r):n.checked||l.push(r);for(f=0;f<l.length;f++)this._map.hasLayer(l[f])&&this._map.removeLayer(l[f]);for(f=0;f<s.length;f++)this._map.hasLayer(s[f])||this._map.addLayer(s[f]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,r,s=this._map.getZoom(),l=t.length-1;l>=0;l--)n=t[l],r=this._getLayer(n.layerId).layer,n.disabled=r.options.minZoom!==void 0&&s<r.options.minZoom||r.options.maxZoom!==void 0&&s>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;at(t,"click",lt),this.expand(),setTimeout(function(){Ot(t,"click",lt)})}}),fo=function(t,n,r){return new ho(t,n,r)},oe=fe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",r=Pt("div",n+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,n+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,n+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,r,s,l){var f=Pt("a",r,s);return f.innerHTML=t,f.href="#",f.title=n,f.setAttribute("role","button"),f.setAttribute("aria-label",n),Si(f),at(f,"click",Tt),at(f,"click",l,this),at(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";Rt(this._zoomInButton,n),Rt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ut(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ut(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});wt.mergeOptions({zoomControl:!0}),wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new oe,this.addControl(this.zoomControl))});var os=function(t){return new oe(t)},co=fe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",r=Pt("div",n),s=this.options;return this._addScales(s,n+"-line",r),t.on(s.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,r){t.metric&&(this._mScale=Pt("div",n,r)),t.imperial&&(this._iScale=Pt("div",n,r))},_update:function(){var t=this._map,n=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),r=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,r,n/t)},_updateImperial:function(t){var n=t*3.2808399,r,s,l;n>5280?(r=n/5280,s=this._getRoundNum(r),this._updateScale(this._iScale,s+" mi",s/r)):(l=this._getRoundNum(n),this._updateScale(this._iScale,l+" ft",l/n))},_updateScale:function(t,n,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),r=t/n;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,n*r}}),ss=function(t){return new co(t)},as='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',dr=fe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Y.inlineSvg?as+" ":"")+"Leaflet</a>"},initialize:function(t){D(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),Si(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});wt.mergeOptions({attributionControl:!0}),wt.addInitHook(function(){this.options.attributionControl&&new dr().addTo(this)});var us=function(t){return new dr(t)};fe.Layers=ho,fe.Zoom=oe,fe.Scale=co,fe.Attribution=dr,Ne.layers=fo,Ne.zoom=os,Ne.scale=ss,Ne.attribution=us;var Wt=qe.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wt.addTo=function(t,n){return t.addHandler(n,this),this};var _a={Events:ue},ce=Y.touch?"touchstart mousedown":"mousedown",cn=ke.extend({options:{clickTolerance:3},initialize:function(t,n,r,s){D(this,s),this._element=t,this._dragStartTarget=n||t,this._preventOutline=r},enable:function(){this._enabled||(at(this._dragStartTarget,ce,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),Ot(this._dragStartTarget,ce,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!no(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(cn._dragging=this,this._preventOutline&&cr(this._element),io(),Mn(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,r=jo(this._element);this._startPoint=new X(n.clientX,n.clientY),this._startPos=je(this._element),this._parentScale=ro(r);var s=t.type==="mousedown";at(document,s?"mousemove":"touchmove",this._onMove,this),at(document,s?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,r=new X(n.clientX,n.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,lt(t),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ht(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Rt(document.body,"leaflet-dragging"),this._lastTarget&&(Rt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ot(document,"mousemove touchmove",this._onMove,this),Ot(document,"mouseup touchend touchcancel",this._onUp,this),hr(),$e(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,cn._dragging=!1}});function _o(t,n){if(!n||!t.length)return t.slice();var r=n*n;return t=_n(t,r),t=po(t,r),t}function tn(t,n,r){return Math.sqrt(Ci(t,n,r,!0))}function pr(t,n,r){return Ci(t,n,r)}function po(t,n){var r=t.length,s=typeof Uint8Array!=void 0+""?Uint8Array:Array,l=new s(r);l[0]=l[r-1]=1,zt(t,l,n,0,r-1);var f,m=[];for(f=0;f<r;f++)l[f]&&m.push(t[f]);return m}function zt(t,n,r,s,l){var f=0,m,C,E;for(C=s+1;C<=l-1;C++)E=Ci(t[C],t[s],t[l],!0),E>f&&(m=C,f=E);f>r&&(n[m]=1,zt(t,n,r,s,m),zt(t,n,r,m,l))}function _n(t,n){for(var r=[t[0]],s=1,l=0,f=t.length;s<f;s++)da(t[s],t[l])>n&&(r.push(t[s]),l=s);return l<f-1&&r.push(t[f-1]),r}var mr;function ls(t,n,r,s,l){var f=s?mr:On(t,r),m=On(n,r),C,E,R;for(mr=m;;){if(!(f|m))return[t,n];if(f&m)return!1;C=f||m,E=ni(t,n,C,r,l),R=On(E,r),C===f?(t=E,f=R):(n=E,m=R)}}function ni(t,n,r,s,l){var f=n.x-t.x,m=n.y-t.y,C=s.min,E=s.max,R,F;return r&8?(R=t.x+f*(E.y-t.y)/m,F=E.y):r&4?(R=t.x+f*(C.y-t.y)/m,F=C.y):r&2?(R=E.x,F=t.y+m*(E.x-t.x)/f):r&1&&(R=C.x,F=t.y+m*(C.x-t.x)/f),new X(R,F,l)}function On(t,n){var r=0;return t.x<n.min.x?r|=1:t.x>n.max.x&&(r|=2),t.y<n.min.y?r|=4:t.y>n.max.y&&(r|=8),r}function da(t,n){var r=n.x-t.x,s=n.y-t.y;return r*r+s*s}function Ci(t,n,r,s){var l=n.x,f=n.y,m=r.x-l,C=r.y-f,E=m*m+C*C,R;return E>0&&(R=((t.x-l)*m+(t.y-f)*C)/E,R>1?(l=r.x,f=r.y):R>0&&(l+=m*R,f+=C*R)),m=t.x-l,C=t.y-f,s?m*m+C*C:new X(l,f)}function _e(t){return!U(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Ai(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_e(t)}function zn(t,n){var r,s,l,f,m,C,E,R;if(!t||t.length===0)throw new Error("latlngs not passed");_e(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var F=[];for(var Q in t)F.push(n.project(Ct(t[Q])));var _t=F.length;for(r=0,s=0;r<_t-1;r++)s+=F[r].distanceTo(F[r+1])/2;if(s===0)R=F[0];else for(r=0,f=0;r<_t-1;r++)if(m=F[r],C=F[r+1],l=m.distanceTo(C),f+=l,f>s){E=(f-s)/l,R=[C.x-E*(C.x-m.x),C.y-E*(C.y-m.y)];break}return n.unproject(nt(R))}var pa={__proto__:null,simplify:_o,pointToSegmentDistance:tn,closestPointOnSegment:pr,clipSegment:ls,_getEdgeIntersection:ni,_getBitCode:On,_sqClosestPointOnSegment:Ci,isFlat:_e,_flat:Ai,polylineCenter:zn};function mo(t,n,r){var s,l=[1,4,2,8],f,m,C,E,R,F,Q,_t;for(f=0,F=t.length;f<F;f++)t[f]._code=On(t[f],n);for(C=0;C<4;C++){for(Q=l[C],s=[],f=0,F=t.length,m=F-1;f<F;m=f++)E=t[f],R=t[m],E._code&Q?R._code&Q||(_t=ni(R,E,Q,n,r),_t._code=On(_t,n),s.push(_t)):(R._code&Q&&(_t=ni(R,E,Q,n,r),_t._code=On(_t,n),s.push(_t)),s.push(E));t=s}return t}function go(t,n){var r,s,l,f,m,C,E,R,F;if(!t||t.length===0)throw new Error("latlngs not passed");_e(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Q=[];for(var _t in t)Q.push(n.project(Ct(t[_t])));var se=Q.length;for(C=E=R=0,r=0,s=se-1;r<se;s=r++)l=Q[r],f=Q[s],m=l.y*f.x-f.y*l.x,E+=(l.x+f.x)*m,R+=(l.y+f.y)*m,C+=m*3;return C===0?F=Q[0]:F=[E/C,R/C],n.unproject(nt(F))}var vo={__proto__:null,clipPolygon:mo,polygonCenter:go},Ei={project:function(t){return new X(t.lng,t.lat)},unproject:function(t){return new xt(t.y,t.x)},bounds:new bt([-180,-90],[180,90])},gr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new bt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,r=this.R,s=t.lat*n,l=this.R_MINOR/r,f=Math.sqrt(1-l*l),m=f*Math.sin(s),C=Math.tan(Math.PI/4-s/2)/Math.pow((1-m)/(1+m),f/2);return s=-r*Math.log(Math.max(C,1e-10)),new X(t.lng*n*r,s)},unproject:function(t){for(var n=180/Math.PI,r=this.R,s=this.R_MINOR/r,l=Math.sqrt(1-s*s),f=Math.exp(-t.y/r),m=Math.PI/2-2*Math.atan(f),C=0,E=.1,R;C<15&&Math.abs(E)>1e-7;C++)R=l*Math.sin(m),R=Math.pow((1-R)/(1+R),l/2),E=Math.PI/2-2*Math.atan(f*R)-m,m+=E;return new xt(m*n,t.x*n/r)}},ma={__proto__:null,LonLat:Ei,Mercator:gr,SphericalMercator:Gr},yo=v({},Le,{code:"EPSG:3395",projection:gr,transformation:function(){var t=.5/(Math.PI*gr.R);return hn(t,.5,-t,.5)}()}),vr=v({},Le,{code:"EPSG:4326",projection:Ei,transformation:hn(1/180,1,-1/180,.5)}),ga=v({},Qe,{projection:Ei,transformation:hn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var r=n.lng-t.lng,s=n.lat-t.lat;return Math.sqrt(r*r+s*s)},infinite:!0});Qe.Earth=Le,Qe.EPSG3395=yo,Qe.EPSG3857=Qi,Qe.EPSG900913=Re,Qe.EPSG4326=vr,Qe.Simple=ga;var be=ke.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[S(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[S(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var r=this.getEvents();n.on(r,this),this.once("remove",function(){n.off(r,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});wt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=S(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=S(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return S(t)in this._layers},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},_addLayers:function(t){t=t?U(t)?t:[t]:[];for(var n=0,r=t.length;n<r;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[S(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=S(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,r=this._getZoomSpan();for(var s in this._zoomBoundLayers){var l=this._zoomBoundLayers[s].options;t=l.minZoom===void 0?t:Math.min(t,l.minZoom),n=l.maxZoom===void 0?n:Math.max(n,l.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Vt=be.extend({initialize:function(t,n){D(this,n),this._layers={};var r,s;if(t)for(r=0,s=t.length;r<s;r++)this.addLayer(t[r])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),r,s;for(r in this._layers)s=this._layers[r],s[t]&&s[t].apply(s,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return S(t)}}),wo=function(t,n){return new Vt(t,n)},de=Vt.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Vt.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Vt.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new re;for(var n in this._layers){var r=this._layers[n];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),hs=function(t,n){return new de(t,n)},Bn=qe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){D(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(r,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(s,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),s},_setIconStyles:function(t,n){var r=this.options,s=r[n+"Size"];typeof s=="number"&&(s=[s,s]);var l=nt(s),f=nt(n==="shadow"&&r.shadowAnchor||r.iconAnchor||l&&l.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(r.className||""),f&&(t.style.marginLeft=-f.x+"px",t.style.marginTop=-f.y+"px"),l&&(t.style.width=l.x+"px",t.style.height=l.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return Y.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function va(t){return new Bn(t)}var Mi=Bn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Mi.imagePath!="string"&&(Mi.imagePath=this._detectIconPath()),(this.options.imagePath||Mi.imagePath)+Bn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(r,s,l){var f=s.exec(r);return f&&f[l]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Pt("div","leaflet-default-icon-path",document.body),n=Li(t,"background-image")||Li(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),fs=Wt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new cn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,r=n._map,s=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,f=je(n._icon),m=r.getPixelBounds(),C=r.getPixelOrigin(),E=ie(m.min._subtract(C).add(l),m.max._subtract(C).subtract(l));if(!E.contains(f)){var R=nt((Math.max(E.max.x,f.x)-E.max.x)/(m.max.x-E.max.x)-(Math.min(E.min.x,f.x)-E.min.x)/(m.min.x-E.min.x),(Math.max(E.max.y,f.y)-E.max.y)/(m.max.y-E.max.y)-(Math.min(E.min.y,f.y)-E.min.y)/(m.min.y-E.min.y)).multiplyBy(s);r.panBy(R,{animate:!1}),this._draggable._newPos._add(R),this._draggable._startPos._add(R),Ht(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ne(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(xe(this._panRequest),this._panRequest=ne(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,r=n._shadow,s=je(n._icon),l=n._map.layerPointToLatLng(s);r&&Ht(r,s),n._latlng=l,t.latlng=l,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){xe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),yr=be.extend({options:{icon:new Mi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){D(this,n),this._latlng=Ct(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=Ct(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),s=!1;r!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),ut(r,n),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(r,"focus",this._panOnFocus,this);var l=t.icon.createShadow(this._shadow),f=!1;l!==this._shadow&&(this._removeShadow(),f=!0),l&&(ut(l,n),l.alt=""),this._shadow=l,t.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&f&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(this._icon,"focus",this._panOnFocus,this),kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&kt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ht(this._icon,t),this._shadow&&Ht(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fs)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fs(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&he(this._icon,t),this._shadow&&he(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var n=this.options.icon.options,r=n.iconSize?nt(n.iconSize):nt(0,0),s=n.iconAnchor?nt(n.iconAnchor):nt(0,0);t.panInside(this._latlng,{paddingTopLeft:s,paddingBottomRight:r.subtract(s)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ya(t,n){return new yr(t,n)}var pe=be.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return D(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wr=pe.extend({options:{fill:!0,radius:10},initialize:function(t,n){D(this,n),this._latlng=Ct(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=Ct(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return pe.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,r=this._clickTolerance(),s=[t+r,n+r];this._pxBounds=new bt(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wa(t,n){return new wr(t,n)}var Ii=wr.extend({initialize:function(t,n,r){if(typeof n=="number"&&(n=v({},r,{radius:n})),D(this,n),this._latlng=Ct(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new re(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:pe.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,r=this._map,s=r.options.crs;if(s.distance===Le.distance){var l=Math.PI/180,f=this._mRadius/Le.R/l,m=r.project([n+f,t]),C=r.project([n-f,t]),E=m.add(C).divideBy(2),R=r.unproject(E).lat,F=Math.acos((Math.cos(f*l)-Math.sin(n*l)*Math.sin(R*l))/(Math.cos(n*l)*Math.cos(R*l)))/l;(isNaN(F)||F===0)&&(F=f/Math.cos(Math.PI/180*n)),this._point=E.subtract(r.getPixelOrigin()),this._radius=isNaN(F)?0:E.x-r.project([R,t-F]).x,this._radiusY=E.y-m.y}else{var Q=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(Q).x}this._updateBounds()}});function cs(t,n,r){return new Ii(t,n,r)}var jt=pe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){D(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,r=null,s=Ci,l,f,m=0,C=this._parts.length;m<C;m++)for(var E=this._parts[m],R=1,F=E.length;R<F;R++){l=E[R-1],f=E[R];var Q=s(t,l,f,!0);Q<n&&(n=Q,r=s(t,l,f))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=Ct(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new re,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return _e(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],r=_e(t),s=0,l=t.length;s<l;s++)r?(n[s]=Ct(t[s]),this._bounds.extend(n[s])):n[s]=this._convertLatLngs(t[s]);return n},_project:function(){var t=new bt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new X(t,t);this._rawPxBounds&&(this._pxBounds=new bt([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,r){var s=t[0]instanceof xt,l=t.length,f,m;if(s){for(m=[],f=0;f<l;f++)m[f]=this._map.latLngToLayerPoint(t[f]),r.extend(m[f]);n.push(m)}else for(f=0;f<l;f++)this._projectLatlngs(t[f],n,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,r,s,l,f,m,C,E;for(r=0,l=0,f=this._rings.length;r<f;r++)for(E=this._rings[r],s=0,m=E.length;s<m-1;s++)C=ls(E[s],E[s+1],t,s,!0),C&&(n[l]=n[l]||[],n[l].push(C[0]),(C[1]!==E[s+1]||s===m-2)&&(n[l].push(C[1]),l++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,r=0,s=t.length;r<s;r++)t[r]=_o(t[r],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var r,s,l,f,m,C,E=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,f=this._parts.length;r<f;r++)for(C=this._parts[r],s=0,m=C.length,l=m-1;s<m;l=s++)if(!(!n&&s===0)&&tn(t,C[l],C[s])<=E)return!0;return!1}});function xr(t,n){return new jt(t,n)}jt._flat=Ai;var ii=jt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return go(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var n=jt.prototype._convertLatLngs.call(this,t),r=n.length;return r>=2&&n[0]instanceof xt&&n[0].equals(n[r-1])&&n.pop(),n},_setLatLngs:function(t){jt.prototype._setLatLngs.call(this,t),_e(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _e(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,r=new X(n,n);if(t=new bt(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var s=0,l=this._rings.length,f;s<l;s++)f=mo(this._rings[s],t,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,r,s,l,f,m,C,E,R;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,E=this._parts.length;f<E;f++)for(r=this._parts[f],m=0,R=r.length,C=R-1;m<R;C=m++)s=r[m],l=r[C],s.y>t.y!=l.y>t.y&&t.x<(l.x-s.x)*(t.y-s.y)/(l.y-s.y)+s.x&&(n=!n);return n||jt.prototype._containsPoint.call(this,t,!0)}});function xa(t,n){return new ii(t,n)}var en=de.extend({initialize:function(t,n){D(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=U(t)?t:t.features,r,s,l;if(n){for(r=0,s=n.length;r<s;r++)l=n[r],(l.geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var f=this.options;if(f.filter&&!f.filter(t))return this;var m=nn(t,f);return m?(m.feature=Tr(t),m.defaultOptions=m.options,this.resetStyle(m),f.onEachFeature&&f.onEachFeature(t,m),this.addLayer(m)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=v({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function nn(t,n){var r=t.type==="Feature"?t.geometry:t,s=r?r.coordinates:null,l=[],f=n&&n.pointToLayer,m=n&&n.coordsToLatLng||Lr,C,E,R,F;if(!s&&!r)return null;switch(r.type){case"Point":return C=m(s),Pe(f,t,C,n);case"MultiPoint":for(R=0,F=s.length;R<F;R++)C=m(s[R]),l.push(Pe(f,t,C,n));return new de(l);case"LineString":case"MultiLineString":return E=br(s,r.type==="LineString"?0:1,m),new jt(E,n);case"Polygon":case"MultiPolygon":return E=br(s,r.type==="Polygon"?1:2,m),new ii(E,n);case"GeometryCollection":for(R=0,F=r.geometries.length;R<F;R++){var Q=nn({geometry:r.geometries[R],type:"Feature",properties:t.properties},n);Q&&l.push(Q)}return new de(l);case"FeatureCollection":for(R=0,F=r.features.length;R<F;R++){var _t=nn(r.features[R],n);_t&&l.push(_t)}return new de(l);default:throw new Error("Invalid GeoJSON object.")}}function Pe(t,n,r,s){return t?t(n,r):new yr(r,s&&s.markersInheritOptions&&s)}function Lr(t){return new xt(t[1],t[0],t[2])}function br(t,n,r){for(var s=[],l=0,f=t.length,m;l<f;l++)m=n?br(t[l],n-1,r):(r||Lr)(t[l]),s.push(m);return s}function xo(t,n){return t=Ct(t),t.alt!==void 0?[G(t.lng,n),G(t.lat,n),G(t.alt,n)]:[G(t.lng,n),G(t.lat,n)]}function Pr(t,n,r,s){for(var l=[],f=0,m=t.length;f<m;f++)l.push(n?Pr(t[f],_e(t[f])?0:n-1,r,s):xo(t[f],s));return!n&&r&&l.push(l[0].slice()),l}function ri(t,n){return t.feature?v({},t.feature,{geometry:n}):Tr(n)}function Tr(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var dn={toGeoJSON:function(t){return ri(this,{type:"Point",coordinates:xo(this.getLatLng(),t)})}};yr.include(dn),Ii.include(dn),wr.include(dn),jt.include({toGeoJSON:function(t){var n=!_e(this._latlngs),r=Pr(this._latlngs,n?1:0,!1,t);return ri(this,{type:(n?"Multi":"")+"LineString",coordinates:r})}}),ii.include({toGeoJSON:function(t){var n=!_e(this._latlngs),r=n&&!_e(this._latlngs[0]),s=Pr(this._latlngs,r?2:n?1:0,!0,t);return n||(s=[s]),ri(this,{type:(r?"Multi":"")+"Polygon",coordinates:s})}}),Vt.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(r){n.push(r.toGeoJSON(t).geometry.coordinates)}),ri(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var r=n==="GeometryCollection",s=[];return this.eachLayer(function(l){if(l.toGeoJSON){var f=l.toGeoJSON(t);if(r)s.push(f.geometry);else{var m=Tr(f);m.type==="FeatureCollection"?s.push.apply(s,m.features):s.push(m)}}}),r?ri(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});function b(t,n){return new en(t,n)}var I=b,A=be.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,r){this._url=t,this._bounds=Yt(n),D(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&An(this._image),this},bringToBack:function(){return this._map&&fn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Yt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:Pt("img");if(ut(n,"leaflet-image-layer"),this._zoomAnimated&&ut(n,"leaflet-zoom-animated"),this.options.className&&ut(n,this.options.className),n.onselectstart=N,n.onmousemove=N,n.onload=x(this.fire,this,"load"),n.onerror=x(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;En(this._image,r,n)},_reset:function(){var t=this._image,n=new bt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=n.getSize();Ht(t,n.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){he(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),q=function(t,n,r){return new A(t,n,r)},rt=A.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:Pt("video");if(ut(n,"leaflet-image-layer"),this._zoomAnimated&&ut(n,"leaflet-zoom-animated"),this.options.className&&ut(n,this.options.className),n.onselectstart=N,n.onmousemove=N,n.onloadeddata=x(this.fire,this,"load"),t){for(var r=n.getElementsByTagName("source"),s=[],l=0;l<r.length;l++)s.push(r[l].src);this._url=r.length>0?s:[n.src];return}U(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var m=Pt("source");m.src=this._url[f],n.appendChild(m)}}});function St(t,n,r){return new rt(t,n,r)}var qt=A.extend({_initImage:function(){var t=this._image=this._url;ut(t,"leaflet-image-layer"),this._zoomAnimated&&ut(t,"leaflet-zoom-animated"),this.options.className&&ut(t,this.options.className),t.onselectstart=N,t.onmousemove=N}});function It(t,n,r){return new qt(t,n,r)}var Te=be.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,n){t&&(t instanceof xt||U(t))?(this._latlng=Ct(t),D(this,n)):(D(this,t),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&he(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&he(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(he(this._container,0),this._removeTimeout=setTimeout(x(kt,void 0,this._container),200)):kt(this._container),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Ct(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&An(this._container),this},bringToBack:function(){return this._map&&fn(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof de){n=null;var r=this._source._layers;for(var s in r)if(r[s]._map){n=r[s];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=nt(this.options.offset),r=this._getAnchor();this._zoomAnimated?Ht(this._container,t.add(r)):n=n.add(t).add(r);var s=this._containerBottom=-n.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=s+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}});wt.include({_initOverlay:function(t,n,r,s){var l=n;return l instanceof t||(l=new t(s).setContent(n)),r&&l.setLatLng(r),l}}),be.include({_initOverlay:function(t,n,r,s){var l=r;return l instanceof t?(D(l,s),l._source=this):(l=n&&!s?n:new t(s,this),l.setContent(r)),l}});var Sr=Te.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Te.prototype.openOn.call(this,t)},onAdd:function(t){Te.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pe||this._source.on("preclick",In))},onRemove:function(t){Te.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pe||this._source.off("preclick",In))},getEvents:function(){var t=Te.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=Pt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=Pt("div",t+"-content-wrapper",n);if(this._contentNode=Pt("div",t+"-content",r),Si(n),ao(this._contentNode),at(n,"contextmenu",In),this._tipContainer=Pt("div",t+"-tip-container",n),this._tip=Pt("div",t+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=Pt("a",t+"-close-button",n);s.setAttribute("role","button"),s.setAttribute("aria-label","Close popup"),s.href="#close",s.innerHTML='<span aria-hidden="true">&#215;</span>',at(s,"click",function(l){lt(l),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),n.width=r+1+"px",n.whiteSpace="",n.height="";var s=t.offsetHeight,l=this.options.maxHeight,f="leaflet-popup-scrolled";l&&s>l?(n.height=l+"px",ut(t,f)):Rt(t,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();Ht(this._container,n.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,n=parseInt(Li(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+n,s=this._containerWidth,l=new X(this._containerLeft,-r-this._containerBottom);l._add(je(this._container));var f=t.layerPointToContainerPoint(l),m=nt(this.options.autoPanPadding),C=nt(this.options.autoPanPaddingTopLeft||m),E=nt(this.options.autoPanPaddingBottomRight||m),R=t.getSize(),F=0,Q=0;f.x+s+E.x>R.x&&(F=f.x+s-R.x+E.x),f.x-F-C.x<0&&(F=f.x-C.x),f.y+r+E.y>R.y&&(Q=f.y+r-R.y+E.y),f.y-Q-C.y<0&&(Q=f.y-C.y),(F||Q)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([F,Q]))}},_getAnchor:function(){return nt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Se=function(t,n){return new Sr(t,n)};wt.mergeOptions({closePopupOnClick:!0}),wt.include({openPopup:function(t,n,r){return this._initOverlay(Sr,t,n,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),be.include({bindPopup:function(t,n){return this._popup=this._initOverlay(Sr,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof de||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Tt(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof pe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var kn=Te.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Te.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Te.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Te.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+S(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,r,s=this._map,l=this._container,f=s.latLngToContainerPoint(s.getCenter()),m=s.layerPointToContainerPoint(t),C=this.options.direction,E=l.offsetWidth,R=l.offsetHeight,F=nt(this.options.offset),Q=this._getAnchor();C==="top"?(n=E/2,r=R):C==="bottom"?(n=E/2,r=0):C==="center"?(n=E/2,r=R/2):C==="right"?(n=0,r=R/2):C==="left"?(n=E,r=R/2):m.x<f.x?(C="right",n=0,r=R/2):(C="left",n=E+(F.x+Q.x)*2,r=R/2),t=t.subtract(nt(n,r,!0)).add(F).add(Q),Rt(l,"leaflet-tooltip-right"),Rt(l,"leaflet-tooltip-left"),Rt(l,"leaflet-tooltip-top"),Rt(l,"leaflet-tooltip-bottom"),ut(l,"leaflet-tooltip-"+C),Ht(l,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&he(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return nt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),La=function(t,n){return new kn(t,n)};wt.include({openTooltip:function(t,n,r){return this._initOverlay(kn,t,n,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),be.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(kn,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[n](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof de||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var n=t.getElement();n&&(at(n,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),at(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var n=t.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var n=t.latlng,r,s;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),s=this._map.containerPointToLayerPoint(r),n=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(n)}});var Rn=Bn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(bi(n),n.appendChild(r.html)):n.innerHTML=r.html!==!1?r.html:"",r.bgPos){var s=nt(r.bgPos);n.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Cr(t){return new Rn(t)}Bn.Default=Mi;var pn=be.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){D(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),kt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(An(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=O(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof X?t:new X(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,r=-t(-1/0,1/0),s=0,l=n.length,f;s<l;s++)f=n[s].style.zIndex,n[s]!==this._container&&f&&(r=t(r,+f));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y.ielt9){he(this._container,this.options.opacity);var t=+new Date,n=!1,r=!1;for(var s in this._tiles){var l=this._tiles[s];if(!(!l.current||!l.loaded)){var f=Math.min(1,(t-l.loaded)/200);he(l.el,f),f<1?n=!0:(l.active?r=!0:this._onOpaqueTile(l),l.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),n&&(xe(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=n-Math.abs(t-r),this._onUpdateLevel(r)):(kt(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var s=this._levels[t],l=this._map;return s||(s=this._levels[t]={},s.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=n,s.origin=l.project(l.unproject(l.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,l.getCenter(),l.getZoom()),N(s.el.offsetWidth),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var t,n,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var s=n.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)kt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,r,s){var l=Math.floor(t/2),f=Math.floor(n/2),m=r-1,C=new X(+l,+f);C.z=+m;var E=this._tileCoordsToKey(C),R=this._tiles[E];return R&&R.active?(R.retain=!0,!0):(R&&R.loaded&&(R.retain=!0),m>s?this._retainParent(l,f,m,s):!1)},_retainChildren:function(t,n,r,s){for(var l=2*t;l<2*t+2;l++)for(var f=2*n;f<2*n+2;f++){var m=new X(l,f);m.z=r+1;var C=this._tileCoordsToKey(m),E=this._tiles[C];if(E&&E.active){E.retain=!0;continue}else E&&E.loaded&&(E.retain=!0);r+1<s&&this._retainChildren(l,f,r+1,s)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,r,s){var l=Math.round(n);this.options.maxZoom!==void 0&&l>this.options.maxZoom||this.options.minZoom!==void 0&&l<this.options.minZoom?l=void 0:l=this._clampZoom(l);var f=this.options.updateWhenZooming&&l!==this._tileZoom;(!s||f)&&(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),l!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,n)},_setZoomTransform:function(t,n,r){var s=this._map.getZoomScale(r,t.zoom),l=t.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(n,r)).round();Y.any3d?En(t.el,l,s):Ht(t.el,l)},_resetGrid:function(){var t=this._map,n=t.options.crs,r=this._tileSize=this.getTileSize(),s=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],s).x/r.x),Math.ceil(t.project([0,n.wrapLng[1]],s).x/r.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],s).y/r.x),Math.ceil(t.project([n.wrapLat[1],0],s).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,r=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),s=n.getZoomScale(r,this._tileZoom),l=n.project(t,this._tileZoom).floor(),f=n.getSize().divideBy(s*2);return new bt(l.subtract(f),l.add(f))},_update:function(t){var n=this._map;if(n){var r=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var s=this._getTiledPixelBounds(t),l=this._pxBoundsToTileRange(s),f=l.getCenter(),m=[],C=this.options.keepBuffer,E=new bt(l.getBottomLeft().subtract([C,-C]),l.getTopRight().add([C,-C]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var R in this._tiles){var F=this._tiles[R].coords;(F.z!==this._tileZoom||!E.contains(new X(F.x,F.y)))&&(this._tiles[R].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var Q=l.min.y;Q<=l.max.y;Q++)for(var _t=l.min.x;_t<=l.max.x;_t++){var se=new X(_t,Q);if(se.z=this._tileZoom,!!this._isValidTile(se)){var Ae=this._tiles[this._tileCoordsToKey(se)];Ae?Ae.current=!0:m.push(se)}}if(m.sort(function(Ee,ai){return Ee.distanceTo(f)-ai.distanceTo(f)}),m.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vn=document.createDocumentFragment();for(_t=0;_t<m.length;_t++)this._addTile(m[_t],vn);this._level.el.appendChild(vn)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var r=this._globalTileRange;if(!n.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!n.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(t);return Yt(this.options.bounds).overlaps(s)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,r=this.getTileSize(),s=t.scaleBy(r),l=s.add(r),f=n.unproject(s,t.z),m=n.unproject(l,t.z);return[f,m]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),r=new re(n[0],n[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),r=new X(+n[0],+n[1]);return r.z=+n[2],r},_removeTile:function(t){var n=this._tiles[t];n&&(kt(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ut(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=N,t.onmousemove=N,Y.ielt9&&this.options.opacity<1&&he(t,this.options.opacity)},_addTile:function(t,n){var r=this._getTilePos(t),s=this._tileCoordsToKey(t),l=this.createTile(this._wrapCoords(t),x(this._tileReady,this,t));this._initTile(l),this.createTile.length<2&&ne(x(this._tileReady,this,t,null,l)),Ht(l,r),this._tiles[s]={el:l,coords:t,current:!0},n.appendChild(l),this.fire("tileloadstart",{tile:l,coords:t})},_tileReady:function(t,n,r){n&&this.fire("tileerror",{error:n,tile:r,coords:t});var s=this._tileCoordsToKey(t);r=this._tiles[s],r&&(r.loaded=+new Date,this._map._fadeAnimated?(he(r.el,0),xe(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),n||(ut(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y.ielt9||!this._map._fadeAnimated?ne(this._pruneTiles,this):setTimeout(x(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new X(this._wrapX?H(t.x,this._wrapX):t.x,this._wrapY?H(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new bt(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function At(t){return new pn(t)}var oi=pn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=D(this,n),n.detectRetina&&Y.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var r=document.createElement("img");return at(r,"load",x(this._tileOnLoad,this,n,r)),at(r,"error",x(this._tileOnError,this,n,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var n={r:Y.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=r),n["-y"]=r}return dt(this._url,v(n,this.options))},_tileOnLoad:function(t,n){Y.ielt9?setTimeout(x(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,r){var s=this.options.errorTileUrl;s&&n.getAttribute("src")!==s&&(n.src=s),t(r,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,r=this.options.zoomReverse,s=this.options.zoomOffset;return r&&(t=n-t),t+s},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=N,n.onerror=N,!n.complete)){n.src=Ft;var r=this._tiles[t].coords;kt(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:r})}},_removeTile:function(t){var n=this._tiles[t];if(n)return n.el.setAttribute("src",Ft),pn.prototype._removeTile.call(this,t)},_tileReady:function(t,n,r){if(!(!this._map||r&&r.getAttribute("src")===Ft))return pn.prototype._tileReady.call(this,t,n,r)}});function Lo(t,n){return new oi(t,n)}var Oi=oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var r=v({},this.defaultWmsParams);for(var s in n)s in this.options||(r[s]=n[s]);n=D(this,n);var l=n.detectRetina&&Y.retina?2:1,f=this.getTileSize();r.width=f.x*l,r.height=f.y*l,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,oi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),r=this._crs,s=ie(r.project(n[0]),r.project(n[1])),l=s.min,f=s.max,m=(this._wmsVersion>=1.3&&this._crs===vr?[l.y,l.x,f.y,f.x]:[l.x,l.y,f.x,f.y]).join(","),C=oi.prototype.getTileUrl.call(this,t);return C+it(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+m},setParams:function(t,n){return v(this.wmsParams,t),n||this.redraw(),this}});function ba(t,n){return new Oi(t,n)}oi.WMS=Oi,Lo.wms=ba;var rn=be.extend({options:{padding:.1},initialize:function(t){D(this,t),S(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var r=this._map.getZoomScale(n,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,n),f=s.multiplyBy(-r).add(l).subtract(this._map._getNewPixelOrigin(t,n));Y.any3d?En(this._container,f,r):Ht(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),r=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new bt(r,r.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_s=rn.extend({options:{tolerance:0},getEvents:function(){var t=rn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");at(t,"mousemove",this._onMouseMove,this),at(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),at(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){xe(this._redrawRequest),delete this._ctx,kt(this._container),Ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rn.prototype._update.call(this);var t=this._bounds,n=this._container,r=t.getSize(),s=Y.retina?2:1;Ht(n,t.min),n.width=s*r.x,n.height=s*r.y,n.style.width=r.x+"px",n.style.height=r.y+"px",Y.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[S(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,r=n.next,s=n.prev;r?r.prev=s:this._drawLast=s,s?s.next=r:this._drawFirst=r,delete t._order,delete this._layers[S(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),r=[],s,l;for(l=0;l<n.length;l++){if(s=Number(n[l]),isNaN(s))return;r.push(s)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ne(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new bt,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var r=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)t=s.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(this._drawing){var r,s,l,f,m=t._parts,C=m.length,E=this._ctx;if(C){for(E.beginPath(),r=0;r<C;r++){for(s=0,l=m[r].length;s<l;s++)f=m[r][s],E[s?"lineTo":"moveTo"](f.x,f.y);n&&E.closePath()}this._fillStroke(E,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,r=this._ctx,s=Math.max(Math.round(t._radius),1),l=(Math.max(Math.round(t._radiusY),1)||s)/s;l!==1&&(r.save(),r.scale(1,l)),r.beginPath(),r.arc(n.x,n.y/l,s,0,Math.PI*2,!1),l!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,n){var r=n.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),r,s,l=this._drawFirst;l;l=l.next)r=l.layer,r.options.interactive&&r._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(s=r);this._fireEvent(s?[s]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var r,s,l=this._drawFirst;l;l=l.next)r=l.layer,r.options.interactive&&r._containsPoint(n)&&(s=r);s!==this._hoveredLayer&&(this._handleMouseOut(t),s&&(ut(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseover"),this._hoveredLayer=s)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(x(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,r){this._map._fireDOMEvent(n,r||n.type,t)},_bringToFront:function(t){var n=t._order;if(n){var r=n.next,s=n.prev;if(r)r.prev=s;else return;s?s.next=r:r&&(this._drawFirst=r),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(n){var r=n.next,s=n.prev;if(s)s.next=r;else return;r?r.prev=s:s&&(this._drawLast=s),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function zi(t){return Y.canvas?new _s(t):null}var Ce=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ar={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=Ce("shape");ut(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=Ce("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[S(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;kt(n),t.removeInteractiveTarget(n),delete this._layers[S(t)]},_updateStyle:function(t){var n=t._stroke,r=t._fill,s=t.options,l=t._container;l.stroked=!!s.stroke,l.filled=!!s.fill,s.stroke?(n||(n=t._stroke=Ce("stroke")),l.appendChild(n),n.weight=s.weight+"px",n.color=s.color,n.opacity=s.opacity,s.dashArray?n.dashStyle=U(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=s.lineCap.replace("butt","flat"),n.joinstyle=s.lineJoin):n&&(l.removeChild(n),t._stroke=null),s.fill?(r||(r=t._fill=Ce("fill")),l.appendChild(r),r.color=s.fillColor||s.color,r.opacity=s.fillOpacity):r&&(l.removeChild(r),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),r=Math.round(t._radius),s=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+r+","+s+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){An(t._container)},_bringToBack:function(t){fn(t._container)}},Bi=Y.vml?Ce:Vn,mn=rn.extend({_initContainer:function(){this._container=Bi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){kt(this._container),Ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rn.prototype._update.call(this);var t=this._bounds,n=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,r.setAttribute("width",n.x),r.setAttribute("height",n.y)),Ht(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=Bi("path");t.options.className&&ut(n,t.options.className),t.options.interactive&&ut(n,"leaflet-interactive"),this._updateStyle(t),this._layers[S(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){kt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[S(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,r=t.options;n&&(r.stroke?(n.setAttribute("stroke",r.color),n.setAttribute("stroke-opacity",r.opacity),n.setAttribute("stroke-width",r.weight),n.setAttribute("stroke-linecap",r.lineCap),n.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?n.setAttribute("stroke-dasharray",r.dashArray):n.removeAttribute("stroke-dasharray"),r.dashOffset?n.setAttribute("stroke-dashoffset",r.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),r.fill?(n.setAttribute("fill",r.fillColor||r.color),n.setAttribute("fill-opacity",r.fillOpacity),n.setAttribute("fill-rule",r.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,Do(t._parts,n))},_updateCircle:function(t){var n=t._point,r=Math.max(Math.round(t._radius),1),s=Math.max(Math.round(t._radiusY),1)||r,l="a"+r+","+s+" 0 1,0 ",f=t._empty()?"M0 0":"M"+(n.x-r)+","+n.y+l+r*2+",0 "+l+-r*2+",0 ";this._setPath(t,f)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){An(t._path)},_bringToBack:function(t){fn(t._path)}});Y.vml&&mn.include(Ar);function bo(t){return Y.svg||Y.vml?new mn(t):null}wt.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&zi(t)||bo(t)}});var Po=ii.extend({initialize:function(t,n){ii.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Yt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Er(t,n){return new Po(t,n)}mn.create=Bi,mn.pointsToPath=Do,en.geometryToLayer=nn,en.coordsToLatLng=Lr,en.coordsToLatLngs=br,en.latLngToCoords=xo,en.latLngsToCoords=Pr,en.getFeature=ri,en.asFeature=Tr,wt.mergeOptions({boxZoom:!0});var To=Wt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mn(),io(),this._startPoint=this._map.mouseEventToContainerPoint(t),at(document,{contextmenu:Tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new bt(this._point,this._startPoint),r=n.getSize();Ht(this._box,n.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(kt(this._box),Rt(this._container,"leaflet-crosshair")),$e(),hr(),Ot(document,{contextmenu:Tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(x(this._resetState,this),0);var n=new re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});wt.addInitHook("addHandler","boxZoom",To),wt.mergeOptions({doubleClickZoom:!0});var si=Wt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,r=n.getZoom(),s=n.options.zoomDelta,l=t.originalEvent.shiftKey?r-s:r+s;n.options.doubleClickZoom==="center"?n.setZoom(l):n.setZoomAround(t.containerPoint,l)}});wt.addInitHook("addHandler","doubleClickZoom",si),wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gn=Wt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new cn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rt(this._map._container,"leaflet-grab"),Rt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=Yt(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),r=this._initialWorldOffset,s=this._draggable._newPos.x,l=(s-n+r)%t+n-r,f=(s+n+r)%t-n-r,m=Math.abs(l+r)<Math.abs(f+r)?l:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=m},_onDragEnd:function(t){var n=this._map,r=n.options,s=!r.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),s)n.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,m=r.easeLinearity,C=l.multiplyBy(m/f),E=C.distanceTo([0,0]),R=Math.min(r.inertiaMaxSpeed,E),F=C.multiplyBy(R/E),Q=R/(r.inertiaDeceleration*m),_t=F.multiplyBy(-Q/2).round();!_t.x&&!_t.y?n.fire("moveend"):(_t=n._limitOffset(_t,n.options.maxBounds),ne(function(){n.panBy(_t,{duration:Q,easeLinearity:m,noMoveStart:!0,animate:!0})}))}}});wt.addInitHook("addHandler","dragging",gn),wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ki=Wt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),at(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,r=t.scrollTop||n.scrollTop,s=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(s,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},r=this.keyCodes,s,l;for(s=0,l=r.left.length;s<l;s++)n[r.left[s]]=[-1*t,0];for(s=0,l=r.right.length;s<l;s++)n[r.right[s]]=[t,0];for(s=0,l=r.down.length;s<l;s++)n[r.down[s]]=[0,t];for(s=0,l=r.up.length;s<l;s++)n[r.up[s]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},r=this.keyCodes,s,l;for(s=0,l=r.zoomIn.length;s<l;s++)n[r.zoomIn[s]]=t;for(s=0,l=r.zoomOut.length;s<l;s++)n[r.zoomOut[s]]=-t},_addHooks:function(){at(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,r=this._map,s;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(s=this._panKeys[n],t.shiftKey&&(s=nt(s).multiplyBy(3)),r.options.maxBounds&&(s=r._limitOffset(nt(s),r.options.maxBounds)),r.options.worldCopyJump){var l=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(s)));r.panTo(l)}else r.panBy(s)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;Tt(t)}}});wt.addInitHook("addHandler","keyboard",ki),wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ds=Wt.extend({addHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=rs(t),r=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var s=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(x(this._performZoom,this),s),Tt(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var s=this._delta/(this._map.options.wheelPxPerZoomLevel*4),l=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,f=r?Math.ceil(l/r)*r:l,m=t._limitZoom(n+(this._delta>0?f:-f))-n;this._delta=0,this._startTime=null,m&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+m):t.setZoomAround(this._lastMousePos,n+m))}});wt.addInitHook("addHandler","scrollWheelZoom",ds);var Pa=600;wt.mergeOptions({tapHold:Y.touchNative&&Y.safari&&Y.mobile,tapTolerance:15});var ps=Wt.extend({addHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new X(n.clientX,n.clientY),this._holdTimeout=setTimeout(x(function(){this._cancel(),this._isTapValid()&&(at(document,"touchend",lt),at(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Pa),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Ot(document,"touchend",lt),Ot(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new X(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});r._simulated=!0,n.target.dispatchEvent(r)}});wt.addInitHook("addHandler","tapHold",ps),wt.mergeOptions({touchZoom:Y.touch,bounceAtZoomLimits:!0});var Ri=Wt.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var r=n.mouseEventToContainerPoint(t.touches[0]),s=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(r.add(s)._divideBy(2))),this._startDist=r.distanceTo(s),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),lt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,r=n.mouseEventToContainerPoint(t.touches[0]),s=n.mouseEventToContainerPoint(t.touches[1]),l=r.distanceTo(s)/this._startDist;if(this._zoom=n.getScaleZoom(l,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&l<1||this._zoom>n.getMaxZoom()&&l>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,l===1)return}else{var f=r._add(s)._divideBy(2)._subtract(this._centerPoint);if(l===1&&f.x===0&&f.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),xe(this._animRequest);var m=x(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ne(m,this,!0),lt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,xe(this._animRequest),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});wt.addInitHook("addHandler","touchZoom",Ri),wt.BoxZoom=To,wt.DoubleClickZoom=si,wt.Drag=gn,wt.Keyboard=ki,wt.ScrollWheelZoom=ds,wt.TapHold=ps,wt.TouchZoom=Ri,u.Bounds=bt,u.Browser=Y,u.CRS=Qe,u.Canvas=_s,u.Circle=Ii,u.CircleMarker=wr,u.Class=qe,u.Control=fe,u.DivIcon=Rn,u.DivOverlay=Te,u.DomEvent=ca,u.DomUtil=ts,u.Draggable=cn,u.Evented=ke,u.FeatureGroup=de,u.GeoJSON=en,u.GridLayer=pn,u.Handler=Wt,u.Icon=Bn,u.ImageOverlay=A,u.LatLng=xt,u.LatLngBounds=re,u.Layer=be,u.LayerGroup=Vt,u.LineUtil=pa,u.Map=wt,u.Marker=yr,u.Mixin=_a,u.Path=pe,u.Point=X,u.PolyUtil=vo,u.Polygon=ii,u.Polyline=jt,u.Popup=Sr,u.PosAnimation=lo,u.Projection=ma,u.Rectangle=Po,u.Renderer=rn,u.SVG=mn,u.SVGOverlay=qt,u.TileLayer=oi,u.Tooltip=kn,u.Transformation=Yn,u.Util=Gs,u.VideoOverlay=rt,u.bind=x,u.bounds=ie,u.canvas=zi,u.circle=cs,u.circleMarker=wa,u.control=Ne,u.divIcon=Cr,u.extend=v,u.featureGroup=hs,u.geoJSON=b,u.geoJson=I,u.gridLayer=At,u.icon=va,u.imageOverlay=q,u.latLng=Ct,u.latLngBounds=Yt,u.layerGroup=wo,u.map=Jt,u.marker=ya,u.point=nt,u.polygon=xa,u.polyline=xr,u.popup=Se,u.rectangle=Er,u.setOptions=D,u.stamp=S,u.svg=bo,u.svgOverlay=It,u.tileLayer=Lo,u.tooltip=La,u.transformation=hn,u.version=w,u.videoOverlay=St;var Mr=window.L;u.noConflict=function(){return window.L=Mr,this},window.L=u})})(Mm,Us);const un=Us,Zr=[];function qr(d,p=Pn){let u;const w=new Set;function v(M){if(gi(d,M)&&(d=M,u)){const S=!Zr.length;for(const O of w)O[1](),Zr.push(O,d);if(S){for(let O=0;O<Zr.length;O+=2)Zr[O][0](Zr[O+1]);Zr.length=0}}}function P(M){v(M(d))}function x(M,S=Pn){const O=[M,S];return w.add(O),w.size===1&&(u=p(v)||Pn),M(d),()=>{w.delete(O),w.size===0&&u&&(u(),u=null)}}return{set:v,update:P,subscribe:x}}let Im={};const qs=qr(Im),bn=qr("world"),Ki=qr(""),mi=qr(""),Hr=qr("radical"),Hs=qr("");function Om(d){let p,u;const w=d[1].default,v=vm(w,d,d[0],null);return{c(){p=st("div"),v&&v.c(),ft(p,"class","map"),ft(p,"id","main-map")},m(P,x){et(P,p,x),v&&v.m(p,null),u=!0},p(P,[x]){v&&v.p&&(!u||x&1)&&wm(v,w,P,P[0],u?ym(w,P[0],x,null):xm(P[0]),null)},i(P){u||(Be(v,P),u=!0)},o(P){ln(v,P),u=!1},d(P){P&&V(p),v&&v.d(P)}}}function zm(d,p,u){let{$$slots:w={},$$scope:v}=p,P=un.map(un.DomUtil.create("div"),{center:[0,0],zoom:5,zoomSnap:.25});return P.createPane("labels"),P.getPane("labels").style.zIndex=550,P.getPane("labels").style.pointerEvents="none",qs.set(P),un.tileLayer("https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'}).addTo(P),un.tileLayer("https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{pane:"labels"}).addTo(P),P.zoomControl.setPosition("topright"),bh(()=>{document.getElementById("main-map").appendChild(P.getContainer()),P.getContainer().style.width="100%",P.getContainer().style.height="100%",P.invalidateSize()}),d.$$set=x=>{"$$scope"in x&&u(0,v=x.$$scope)},[v,w]}let Bm=class extends Xi{constructor(p){super(),Vi(this,p,zm,Om,gi,{})}};function km(){return{fillColor:"white",color:"white",fillOpacity:.25,weight:.5,opacity:1}}function Rm(d,p,u){let w;xu(d,qs,N=>u(3,w=N));const v=w;let{polygon:P}=p,x;bn.subscribe(N=>{u(1,x=N)});let M;Ki.subscribe(N=>{u(2,M=N)});function S(N,G){if(N.properties.name){let k=`<b>${N.properties.name}</b>`;G.bindTooltip(k,{permanent:!1,sticky:!0,direction:"center",className:"tooltip"}),G.on({click:O})}}function O(N){bn.set("country"),Ki.set(String(N.target.feature.properties.name)),mi.set("")}return un.geoJSON(P,{style:km,onEachFeature:S}).addTo(v).eachLayer(function(N){N._path.id=String(N.feature.properties.name),N._path.classList.add("country")}),d.$$set=N=>{"polygon"in N&&u(0,P=N.polygon)},d.$$.update=()=>{if(d.$$.dirty&2&&x==="world"&&(console.log("I am here"),v.setView([52,0],3.25),console.log(v.getZoom()),Ki.set(""),mi.set("")),d.$$.dirty&7&&x==="country"&&M!==""){let N=P.filter(G=>G.properties.name==M);setTimeout(function(){v.flyToBounds(un.geoJSON(N).getBounds(),{padding:[2,2],maxZoom:5})},200)}},[P,x,M]}class Zm extends Xi{constructor(p){super(),Vi(this,p,Rm,null,gi,{polygon:0})}}function Nm(d){let p,u,w,v,P;return{c(){p=st("div"),p.innerHTML='<label class="switch-label svelte-pnvr8g">See Deradicalization Initiatives</label>',u=Nt(),w=st("label"),w.innerHTML=`<input type="checkbox" class="svelte-pnvr8g"/> 
    <span class="slider round svelte-pnvr8g" id="rad-switch"></span>`,ft(p,"class","label"),ft(w,"class","switch svelte-pnvr8g")},m(x,M){et(x,p,M),et(x,u,M),et(x,w,M),v||(P=Ro(w,"change",d[0]),v=!0)},p:Pn,i:Pn,o:Pn,d(x){x&&V(p),x&&V(u),x&&V(w),v=!1,P()}}}function Dm(d){function p(u){u.target.checked===!0?(Hr.set("deradical"),document.getElementById("rad-switch").style.backgroundColor="#6366F1"):(Hr.set("radical"),document.getElementById("rad-switch").style.backgroundColor="#f0227C")}return[p]}class Wm extends Xi{constructor(p){super(),Vi(this,p,Dm,Nm,gi,{})}}var $n={},Fm={get exports(){return $n},set exports(d){$n=d}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(d,p){(function(){var u,w="4.17.21",v=200,P="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",x="Expected a function",M="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",O=500,H="__lodash_placeholder__",N=1,G=2,k=4,K=1,D=2,it=1,Et=2,dt=4,U=8,Qt=16,Ft=32,Bt=64,ct=128,Dt=256,we=512,Ji=30,ne="...",xe=800,Gs=16,qe=1,$s=2,ue=3,ke=1/0,X=9007199254740991,No=17976931348623157e292,nt=0/0,bt=4294967295,ie=bt-1,re=bt>>>1,Yt=[["ary",ct],["bind",it],["bindKey",Et],["curry",U],["curryRight",Qt],["flip",we],["partial",Ft],["partialRight",Bt],["rearg",Dt]],xt="[object Arguments]",Ct="[object Array]",Qe="[object AsyncFunction]",Le="[object Boolean]",Kn="[object Date]",Gr="[object DOMException]",Yn="[object Error]",hn="[object Function]",Qi="[object GeneratorFunction]",Re="[object Map]",Vn="[object Number]",Do="[object Null]",Ze="[object Object]",vi="[object Promise]",Ks="[object Proxy]",Xn="[object RegExp]",le="[object Set]",Jn="[object String]",yi="[object Symbol]",Ys="[object Undefined]",wi="[object WeakMap]",$r="[object WeakSet]",Qn="[object ArrayBuffer]",Tn="[object DataView]",Kr="[object Float32Array]",ji="[object Float64Array]",tr="[object Int8Array]",Yr="[object Int16Array]",er="[object Int32Array]",xi="[object Uint8Array]",nr="[object Uint8ClampedArray]",Vr="[object Uint16Array]",Sn="[object Uint32Array]",Vs=/\b__p \+= '';/g,Xs=/\b(__p \+=) '' \+/g,Wo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xr=/&(?:amp|lt|gt|quot|#39);/g,Jr=/[&<>"']/g,Js=RegExp(Xr.source),Qs=RegExp(Jr.source),js=/<%-([\s\S]+?)%>/g,ta=/<%([\s\S]+?)%>/g,Fo=/<%=([\s\S]+?)%>/g,ea=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qr=/^\w*$/,na=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jr=/[\\^$.*+?()[\]{}|]/g,ia=RegExp(jr.source),to=/^\s+/,Ge=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ho=/\{\n\/\* \[wrapped with (.+)\] \*/,Uo=/,? & /,qo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Go=/[()=,{}\[\]\/\s]/,eo=/\\(\\)?/g,$o=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,Ko=/^[-+]0x[0-9a-f]+$/i,ra=/^0b[01]+$/i,oa=/^\[object .+?Constructor\]$/,sa=/^0o[0-7]+$/i,aa=/^(?:0|[1-9]\d*)$/,Yo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ir=/($^)/,rr=/['\n\r\u2028\u2029\\]/g,or="\\ud800-\\udfff",ua="\\u0300-\\u036f",la="\\ufe20-\\ufe2f",ha="\\u20d0-\\u20ff",Vo=ua+la+ha,sr="\\u2700-\\u27bf",jn="a-z\\xdf-\\xf6\\xf8-\\xff",Xo="\\xac\\xb1\\xd7\\xf7",Jo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Li="\\u2000-\\u206f",Pt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kt="A-Z\\xc0-\\xd6\\xd8-\\xde",bi="\\ufe0e\\ufe0f",An=Xo+Jo+Li+Pt,fn="['’]",no="["+or+"]",ut="["+An+"]",Rt="["+Vo+"]",ar="\\d+",ur="["+sr+"]",he="["+jn+"]",Qo="[^"+or+An+ar+sr+jn+kt+"]",ti="\\ud83c[\\udffb-\\udfff]",En="(?:"+Rt+"|"+ti+")",Ht="[^"+or+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Mn="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+kt+"]",lr="\\u200d",ei="(?:"+he+"|"+Qo+")",io="(?:"+$e+"|"+Qo+")",hr="(?:"+fn+"(?:d|ll|m|re|s|t|ve))?",Pi="(?:"+fn+"(?:D|LL|M|RE|S|T|VE))?",fr=En+"?",cr="["+bi+"]?",_r="(?:"+lr+"(?:"+[Ht,je,Mn].join("|")+")"+cr+fr+")*",jo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ro="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ts=cr+fr+_r,at="(?:"+[ur,je,Mn].join("|")+")"+ts,Ke="(?:"+[Ht+Rt+"?",Rt,je,Mn,no].join("|")+")",Ot=RegExp(fn,"g"),es=RegExp(Rt,"g"),Ti=RegExp(ti+"(?="+ti+")|"+Ke+ts,"g"),oo=RegExp([$e+"?"+he+"+"+hr+"(?="+[ut,$e,"$"].join("|")+")",io+"+"+Pi+"(?="+[ut,$e+ei,"$"].join("|")+")",$e+"?"+ei+"+"+hr,$e+"+"+Pi,ro,jo,ar,at].join("|"),"g"),so=RegExp("["+lr+or+Vo+bi+"]"),In=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ao=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Si=-1,lt={};lt[Kr]=lt[ji]=lt[tr]=lt[Yr]=lt[er]=lt[xi]=lt[nr]=lt[Vr]=lt[Sn]=!0,lt[xt]=lt[Ct]=lt[Qn]=lt[Le]=lt[Tn]=lt[Kn]=lt[Yn]=lt[hn]=lt[Re]=lt[Vn]=lt[Ze]=lt[Xn]=lt[le]=lt[Jn]=lt[wi]=!1;var Tt={};Tt[xt]=Tt[Ct]=Tt[Qn]=Tt[Tn]=Tt[Le]=Tt[Kn]=Tt[Kr]=Tt[ji]=Tt[tr]=Tt[Yr]=Tt[er]=Tt[Re]=Tt[Vn]=Tt[Ze]=Tt[Xn]=Tt[le]=Tt[Jn]=Tt[yi]=Tt[xi]=Tt[nr]=Tt[Vr]=Tt[Sn]=!0,Tt[Yn]=Tt[hn]=Tt[wi]=!1;var ns={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},is={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},uo=parseFloat,ca=parseInt,lo=typeof Dr=="object"&&Dr&&Dr.Object===Object&&Dr,wt=typeof self=="object"&&self&&self.Object===Object&&self,Jt=lo||wt||Function("return this")(),fe=p&&!p.nodeType&&p,Ne=fe&&!0&&d&&!d.nodeType&&d,ho=Ne&&Ne.exports===fe,fo=ho&&lo.process,oe=function(){try{var b=Ne&&Ne.require&&Ne.require("util").types;return b||fo&&fo.binding&&fo.binding("util")}catch{}}(),os=oe&&oe.isArrayBuffer,co=oe&&oe.isDate,ss=oe&&oe.isMap,as=oe&&oe.isRegExp,dr=oe&&oe.isSet,us=oe&&oe.isTypedArray;function Wt(b,I,A){switch(A.length){case 0:return b.call(I);case 1:return b.call(I,A[0]);case 2:return b.call(I,A[0],A[1]);case 3:return b.call(I,A[0],A[1],A[2])}return b.apply(I,A)}function _a(b,I,A,q){for(var rt=-1,St=b==null?0:b.length;++rt<St;){var qt=b[rt];I(q,qt,A(qt),b)}return q}function ce(b,I){for(var A=-1,q=b==null?0:b.length;++A<q&&I(b[A],A,b)!==!1;);return b}function cn(b,I){for(var A=b==null?0:b.length;A--&&I(b[A],A,b)!==!1;);return b}function _o(b,I){for(var A=-1,q=b==null?0:b.length;++A<q;)if(!I(b[A],A,b))return!1;return!0}function tn(b,I){for(var A=-1,q=b==null?0:b.length,rt=0,St=[];++A<q;){var qt=b[A];I(qt,A,b)&&(St[rt++]=qt)}return St}function pr(b,I){var A=b==null?0:b.length;return!!A&&zn(b,I,0)>-1}function po(b,I,A){for(var q=-1,rt=b==null?0:b.length;++q<rt;)if(A(I,b[q]))return!0;return!1}function zt(b,I){for(var A=-1,q=b==null?0:b.length,rt=Array(q);++A<q;)rt[A]=I(b[A],A,b);return rt}function _n(b,I){for(var A=-1,q=I.length,rt=b.length;++A<q;)b[rt+A]=I[A];return b}function mr(b,I,A,q){var rt=-1,St=b==null?0:b.length;for(q&&St&&(A=b[++rt]);++rt<St;)A=I(A,b[rt],rt,b);return A}function ls(b,I,A,q){var rt=b==null?0:b.length;for(q&&rt&&(A=b[--rt]);rt--;)A=I(A,b[rt],rt,b);return A}function ni(b,I){for(var A=-1,q=b==null?0:b.length;++A<q;)if(I(b[A],A,b))return!0;return!1}var On=vo("length");function da(b){return b.split("")}function Ci(b){return b.match(qo)||[]}function _e(b,I,A){var q;return A(b,function(rt,St,qt){if(I(rt,St,qt))return q=St,!1}),q}function Ai(b,I,A,q){for(var rt=b.length,St=A+(q?1:-1);q?St--:++St<rt;)if(I(b[St],St,b))return St;return-1}function zn(b,I,A){return I===I?xa(b,I,A):Ai(b,mo,A)}function pa(b,I,A,q){for(var rt=A-1,St=b.length;++rt<St;)if(q(b[rt],I))return rt;return-1}function mo(b){return b!==b}function go(b,I){var A=b==null?0:b.length;return A?yo(b,I)/A:nt}function vo(b){return function(I){return I==null?u:I[b]}}function Ei(b){return function(I){return b==null?u:b[I]}}function gr(b,I,A,q,rt){return rt(b,function(St,qt,It){A=q?(q=!1,St):I(A,St,qt,It)}),A}function ma(b,I){var A=b.length;for(b.sort(I);A--;)b[A]=b[A].value;return b}function yo(b,I){for(var A,q=-1,rt=b.length;++q<rt;){var St=I(b[q]);St!==u&&(A=A===u?St:A+St)}return A}function vr(b,I){for(var A=-1,q=Array(b);++A<b;)q[A]=I(A);return q}function ga(b,I){return zt(I,function(A){return[A,b[A]]})}function be(b){return b&&b.slice(0,Lr(b)+1).replace(to,"")}function Vt(b){return function(I){return b(I)}}function wo(b,I){return zt(I,function(A){return b[A]})}function de(b,I){return b.has(I)}function hs(b,I){for(var A=-1,q=b.length;++A<q&&zn(I,b[A],0)>-1;);return A}function Bn(b,I){for(var A=b.length;A--&&zn(I,b[A],0)>-1;);return A}function va(b,I){for(var A=b.length,q=0;A--;)b[A]===I&&++q;return q}var Mi=Ei(ns),fs=Ei(is);function yr(b){return"\\"+rs[b]}function ya(b,I){return b==null?u:b[I]}function pe(b){return so.test(b)}function wr(b){return In.test(b)}function wa(b){for(var I,A=[];!(I=b.next()).done;)A.push(I.value);return A}function Ii(b){var I=-1,A=Array(b.size);return b.forEach(function(q,rt){A[++I]=[rt,q]}),A}function cs(b,I){return function(A){return b(I(A))}}function jt(b,I){for(var A=-1,q=b.length,rt=0,St=[];++A<q;){var qt=b[A];(qt===I||qt===H)&&(b[A]=H,St[rt++]=A)}return St}function xr(b){var I=-1,A=Array(b.size);return b.forEach(function(q){A[++I]=q}),A}function ii(b){var I=-1,A=Array(b.size);return b.forEach(function(q){A[++I]=[q,q]}),A}function xa(b,I,A){for(var q=A-1,rt=b.length;++q<rt;)if(b[q]===I)return q;return-1}function en(b,I,A){for(var q=A+1;q--;)if(b[q]===I)return q;return q}function nn(b){return pe(b)?xo(b):On(b)}function Pe(b){return pe(b)?Pr(b):da(b)}function Lr(b){for(var I=b.length;I--&&Ge.test(b.charAt(I)););return I}var br=Ei(fa);function xo(b){for(var I=Ti.lastIndex=0;Ti.test(b);)++I;return I}function Pr(b){return b.match(Ti)||[]}function ri(b){return b.match(oo)||[]}var Tr=function b(I){I=I==null?Jt:dn.defaults(Jt.Object(),I,dn.pick(Jt,ao));var A=I.Array,q=I.Date,rt=I.Error,St=I.Function,qt=I.Math,It=I.Object,Te=I.RegExp,Sr=I.String,Se=I.TypeError,kn=A.prototype,La=St.prototype,Rn=It.prototype,Cr=I["__core-js_shared__"],pn=La.toString,At=Rn.hasOwnProperty,oi=0,Lo=function(){var e=/[^.]+$/.exec(Cr&&Cr.keys&&Cr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Oi=Rn.toString,ba=pn.call(It),rn=Jt._,_s=Te("^"+pn.call(At).replace(jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zi=ho?I.Buffer:u,Ce=I.Symbol,Ar=I.Uint8Array,Bi=zi?zi.allocUnsafe:u,mn=cs(It.getPrototypeOf,It),bo=It.create,Po=Rn.propertyIsEnumerable,Er=kn.splice,To=Ce?Ce.isConcatSpreadable:u,si=Ce?Ce.iterator:u,gn=Ce?Ce.toStringTag:u,ki=function(){try{var e=Fi(It,"defineProperty");return e({},"",{}),e}catch{}}(),ds=I.clearTimeout!==Jt.clearTimeout&&I.clearTimeout,Pa=q&&q.now!==Jt.Date.now&&q.now,ps=I.setTimeout!==Jt.setTimeout&&I.setTimeout,Ri=qt.ceil,Mr=qt.floor,t=It.getOwnPropertySymbols,n=zi?zi.isBuffer:u,r=I.isFinite,s=kn.join,l=cs(It.keys,It),f=qt.max,m=qt.min,C=q.now,E=I.parseInt,R=qt.random,F=kn.reverse,Q=Fi(I,"DataView"),_t=Fi(I,"Map"),se=Fi(I,"Promise"),Ae=Fi(I,"Set"),vn=Fi(I,"WeakMap"),Ee=Fi(It,"create"),ai=vn&&new vn,ui={},Ta=Hi(Q),Sa=Hi(_t),ms=Hi(se),Ca=Hi(Ae),gs=Hi(vn),Zt=Ce?Ce.prototype:u,yn=Zt?Zt.valueOf:u,vs=Zt?Zt.toString:u;function c(e){if(Gt(e)&&!ht(e)&&!(e instanceof vt)){if(e instanceof me)return e;if(At.call(e,"__wrapped__"))return Ll(e)}return new me(e)}var li=function(){function e(){}return function(i){if(!Ut(i))return{};if(bo)return bo(i);e.prototype=i;var o=new e;return e.prototype=u,o}}();function hi(){}function me(e,i){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=u}c.templateSettings={escape:js,evaluate:ta,interpolate:Fo,variable:"",imports:{_:c}},c.prototype=hi.prototype,c.prototype.constructor=c,me.prototype=li(hi.prototype),me.prototype.constructor=me;function vt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=bt,this.__views__=[]}function Ch(){var e=new vt(this.__wrapped__);return e.__actions__=Me(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Me(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Me(this.__views__),e}function Ah(){if(this.__filtered__){var e=new vt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Eh(){var e=this.__wrapped__.value(),i=this.__dir__,o=ht(e),a=i<0,h=o?e.length:0,_=Hf(0,h,this.__views__),g=_.start,y=_.end,T=y-g,z=a?y:g-1,B=this.__iteratees__,Z=B.length,W=0,$=m(T,this.__takeCount__);if(!o||!a&&h==T&&$==T)return Gu(e,this.__actions__);var j=[];t:for(;T--&&W<$;){z+=i;for(var mt=-1,tt=e[z];++mt<Z;){var yt=B[mt],Lt=yt.iteratee,Fe=yt.type,ye=Lt(tt);if(Fe==$s)tt=ye;else if(!ye){if(Fe==qe)continue t;break t}}j[W++]=tt}return j}vt.prototype=li(hi.prototype),vt.prototype.constructor=vt;function Zi(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var a=e[i];this.set(a[0],a[1])}}function Mh(){this.__data__=Ee?Ee(null):{},this.size=0}function Ih(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i}function Oh(e){var i=this.__data__;if(Ee){var o=i[e];return o===S?u:o}return At.call(i,e)?i[e]:u}function zh(e){var i=this.__data__;return Ee?i[e]!==u:At.call(i,e)}function Bh(e,i){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Ee&&i===u?S:i,this}Zi.prototype.clear=Mh,Zi.prototype.delete=Ih,Zi.prototype.get=Oh,Zi.prototype.has=zh,Zi.prototype.set=Bh;function Zn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var a=e[i];this.set(a[0],a[1])}}function kh(){this.__data__=[],this.size=0}function Rh(e){var i=this.__data__,o=ys(i,e);if(o<0)return!1;var a=i.length-1;return o==a?i.pop():Er.call(i,o,1),--this.size,!0}function Zh(e){var i=this.__data__,o=ys(i,e);return o<0?u:i[o][1]}function Nh(e){return ys(this.__data__,e)>-1}function Dh(e,i){var o=this.__data__,a=ys(o,e);return a<0?(++this.size,o.push([e,i])):o[a][1]=i,this}Zn.prototype.clear=kh,Zn.prototype.delete=Rh,Zn.prototype.get=Zh,Zn.prototype.has=Nh,Zn.prototype.set=Dh;function Nn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var a=e[i];this.set(a[0],a[1])}}function Wh(){this.size=0,this.__data__={hash:new Zi,map:new(_t||Zn),string:new Zi}}function Fh(e){var i=Is(this,e).delete(e);return this.size-=i?1:0,i}function Hh(e){return Is(this,e).get(e)}function Uh(e){return Is(this,e).has(e)}function qh(e,i){var o=Is(this,e),a=o.size;return o.set(e,i),this.size+=o.size==a?0:1,this}Nn.prototype.clear=Wh,Nn.prototype.delete=Fh,Nn.prototype.get=Hh,Nn.prototype.has=Uh,Nn.prototype.set=qh;function Ni(e){var i=-1,o=e==null?0:e.length;for(this.__data__=new Nn;++i<o;)this.add(e[i])}function Gh(e){return this.__data__.set(e,S),this}function $h(e){return this.__data__.has(e)}Ni.prototype.add=Ni.prototype.push=Gh,Ni.prototype.has=$h;function on(e){var i=this.__data__=new Zn(e);this.size=i.size}function Kh(){this.__data__=new Zn,this.size=0}function Yh(e){var i=this.__data__,o=i.delete(e);return this.size=i.size,o}function Vh(e){return this.__data__.get(e)}function Xh(e){return this.__data__.has(e)}function Jh(e,i){var o=this.__data__;if(o instanceof Zn){var a=o.__data__;if(!_t||a.length<v-1)return a.push([e,i]),this.size=++o.size,this;o=this.__data__=new Nn(a)}return o.set(e,i),this.size=o.size,this}on.prototype.clear=Kh,on.prototype.delete=Yh,on.prototype.get=Vh,on.prototype.has=Xh,on.prototype.set=Jh;function Lu(e,i){var o=ht(e),a=!o&&Ui(e),h=!o&&!a&&pi(e),_=!o&&!a&&!h&&Br(e),g=o||a||h||_,y=g?vr(e.length,Sr):[],T=y.length;for(var z in e)(i||At.call(e,z))&&!(g&&(z=="length"||h&&(z=="offset"||z=="parent")||_&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||Hn(z,T)))&&y.push(z);return y}function bu(e){var i=e.length;return i?e[Na(0,i-1)]:u}function Qh(e,i){return Os(Me(e),Di(i,0,e.length))}function jh(e){return Os(Me(e))}function Aa(e,i,o){(o!==u&&!sn(e[i],o)||o===u&&!(i in e))&&Dn(e,i,o)}function So(e,i,o){var a=e[i];(!(At.call(e,i)&&sn(a,o))||o===u&&!(i in e))&&Dn(e,i,o)}function ys(e,i){for(var o=e.length;o--;)if(sn(e[o][0],i))return o;return-1}function tf(e,i,o,a){return fi(e,function(h,_,g){i(a,h,o(h),g)}),a}function Pu(e,i){return e&&xn(i,te(i),e)}function ef(e,i){return e&&xn(i,Oe(i),e)}function Dn(e,i,o){i=="__proto__"&&ki?ki(e,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[i]=o}function Ea(e,i){for(var o=-1,a=i.length,h=A(a),_=e==null;++o<a;)h[o]=_?u:lu(e,i[o]);return h}function Di(e,i,o){return e===e&&(o!==u&&(e=e<=o?e:o),i!==u&&(e=e>=i?e:i)),e}function Ye(e,i,o,a,h,_){var g,y=i&N,T=i&G,z=i&k;if(o&&(g=h?o(e,a,h,_):o(e)),g!==u)return g;if(!Ut(e))return e;var B=ht(e);if(B){if(g=qf(e),!y)return Me(e,g)}else{var Z=ae(e),W=Z==hn||Z==Qi;if(pi(e))return Yu(e,y);if(Z==Ze||Z==xt||W&&!h){if(g=T||W?{}:_l(e),!y)return T?zf(e,ef(g,e)):Of(e,Pu(g,e))}else{if(!Tt[Z])return h?e:{};g=Gf(e,Z,y)}}_||(_=new on);var $=_.get(e);if($)return $;_.set(e,g),Hl(e)?e.forEach(function(tt){g.add(Ye(tt,i,o,tt,e,_))}):Wl(e)&&e.forEach(function(tt,yt){g.set(yt,Ye(tt,i,o,yt,e,_))});var j=z?T?Va:Ya:T?Oe:te,mt=B?u:j(e);return ce(mt||e,function(tt,yt){mt&&(yt=tt,tt=e[yt]),So(g,yt,Ye(tt,i,o,yt,e,_))}),g}function nf(e){var i=te(e);return function(o){return Tu(o,e,i)}}function Tu(e,i,o){var a=o.length;if(e==null)return!a;for(e=It(e);a--;){var h=o[a],_=i[h],g=e[h];if(g===u&&!(h in e)||!_(g))return!1}return!0}function Su(e,i,o){if(typeof e!="function")throw new Se(x);return zo(function(){e.apply(u,o)},i)}function Co(e,i,o,a){var h=-1,_=pr,g=!0,y=e.length,T=[],z=i.length;if(!y)return T;o&&(i=zt(i,Vt(o))),a?(_=po,g=!1):i.length>=v&&(_=de,g=!1,i=new Ni(i));t:for(;++h<y;){var B=e[h],Z=o==null?B:o(B);if(B=a||B!==0?B:0,g&&Z===Z){for(var W=z;W--;)if(i[W]===Z)continue t;T.push(B)}else _(i,Z,a)||T.push(B)}return T}var fi=ju(wn),Cu=ju(Ia,!0);function rf(e,i){var o=!0;return fi(e,function(a,h,_){return o=!!i(a,h,_),o}),o}function ws(e,i,o){for(var a=-1,h=e.length;++a<h;){var _=e[a],g=i(_);if(g!=null&&(y===u?g===g&&!We(g):o(g,y)))var y=g,T=_}return T}function of(e,i,o,a){var h=e.length;for(o=pt(o),o<0&&(o=-o>h?0:h+o),a=a===u||a>h?h:pt(a),a<0&&(a+=h),a=o>a?0:ql(a);o<a;)e[o++]=i;return e}function Au(e,i){var o=[];return fi(e,function(a,h,_){i(a,h,_)&&o.push(a)}),o}function ee(e,i,o,a,h){var _=-1,g=e.length;for(o||(o=Kf),h||(h=[]);++_<g;){var y=e[_];i>0&&o(y)?i>1?ee(y,i-1,o,a,h):_n(h,y):a||(h[h.length]=y)}return h}var Ma=tl(),Eu=tl(!0);function wn(e,i){return e&&Ma(e,i,te)}function Ia(e,i){return e&&Eu(e,i,te)}function xs(e,i){return tn(i,function(o){return Un(e[o])})}function Wi(e,i){i=_i(i,e);for(var o=0,a=i.length;e!=null&&o<a;)e=e[Ln(i[o++])];return o&&o==a?e:u}function Mu(e,i,o){var a=i(e);return ht(e)?a:_n(a,o(e))}function ge(e){return e==null?e===u?Ys:Do:gn&&gn in It(e)?Ff(e):tc(e)}function Oa(e,i){return e>i}function sf(e,i){return e!=null&&At.call(e,i)}function af(e,i){return e!=null&&i in It(e)}function uf(e,i,o){return e>=m(i,o)&&e<f(i,o)}function za(e,i,o){for(var a=o?po:pr,h=e[0].length,_=e.length,g=_,y=A(_),T=1/0,z=[];g--;){var B=e[g];g&&i&&(B=zt(B,Vt(i))),T=m(B.length,T),y[g]=!o&&(i||h>=120&&B.length>=120)?new Ni(g&&B):u}B=e[0];var Z=-1,W=y[0];t:for(;++Z<h&&z.length<T;){var $=B[Z],j=i?i($):$;if($=o||$!==0?$:0,!(W?de(W,j):a(z,j,o))){for(g=_;--g;){var mt=y[g];if(!(mt?de(mt,j):a(e[g],j,o)))continue t}W&&W.push(j),z.push($)}}return z}function lf(e,i,o,a){return wn(e,function(h,_,g){i(a,o(h),_,g)}),a}function Ao(e,i,o){i=_i(i,e),e=gl(e,i);var a=e==null?e:e[Ln(Xe(i))];return a==null?u:Wt(a,e,o)}function Iu(e){return Gt(e)&&ge(e)==xt}function hf(e){return Gt(e)&&ge(e)==Qn}function ff(e){return Gt(e)&&ge(e)==Kn}function Eo(e,i,o,a,h){return e===i?!0:e==null||i==null||!Gt(e)&&!Gt(i)?e!==e&&i!==i:cf(e,i,o,a,Eo,h)}function cf(e,i,o,a,h,_){var g=ht(e),y=ht(i),T=g?Ct:ae(e),z=y?Ct:ae(i);T=T==xt?Ze:T,z=z==xt?Ze:z;var B=T==Ze,Z=z==Ze,W=T==z;if(W&&pi(e)){if(!pi(i))return!1;g=!0,B=!1}if(W&&!B)return _||(_=new on),g||Br(e)?hl(e,i,o,a,h,_):Df(e,i,T,o,a,h,_);if(!(o&K)){var $=B&&At.call(e,"__wrapped__"),j=Z&&At.call(i,"__wrapped__");if($||j){var mt=$?e.value():e,tt=j?i.value():i;return _||(_=new on),h(mt,tt,o,a,_)}}return W?(_||(_=new on),Wf(e,i,o,a,h,_)):!1}function _f(e){return Gt(e)&&ae(e)==Re}function Ba(e,i,o,a){var h=o.length,_=h,g=!a;if(e==null)return!_;for(e=It(e);h--;){var y=o[h];if(g&&y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++h<_;){y=o[h];var T=y[0],z=e[T],B=y[1];if(g&&y[2]){if(z===u&&!(T in e))return!1}else{var Z=new on;if(a)var W=a(z,B,T,e,i,Z);if(!(W===u?Eo(B,z,K|D,a,Z):W))return!1}}return!0}function Ou(e){if(!Ut(e)||Vf(e))return!1;var i=Un(e)?_s:oa;return i.test(Hi(e))}function df(e){return Gt(e)&&ge(e)==Xn}function pf(e){return Gt(e)&&ae(e)==le}function mf(e){return Gt(e)&&Ns(e.length)&&!!lt[ge(e)]}function zu(e){return typeof e=="function"?e:e==null?ze:typeof e=="object"?ht(e)?Ru(e[0],e[1]):ku(e):eh(e)}function ka(e){if(!Oo(e))return l(e);var i=[];for(var o in It(e))At.call(e,o)&&o!="constructor"&&i.push(o);return i}function gf(e){if(!Ut(e))return jf(e);var i=Oo(e),o=[];for(var a in e)a=="constructor"&&(i||!At.call(e,a))||o.push(a);return o}function Ra(e,i){return e<i}function Bu(e,i){var o=-1,a=Ie(e)?A(e.length):[];return fi(e,function(h,_,g){a[++o]=i(h,_,g)}),a}function ku(e){var i=Ja(e);return i.length==1&&i[0][2]?pl(i[0][0],i[0][1]):function(o){return o===e||Ba(o,e,i)}}function Ru(e,i){return ja(e)&&dl(i)?pl(Ln(e),i):function(o){var a=lu(o,e);return a===u&&a===i?hu(o,e):Eo(i,a,K|D)}}function Ls(e,i,o,a,h){e!==i&&Ma(i,function(_,g){if(h||(h=new on),Ut(_))vf(e,i,g,o,Ls,a,h);else{var y=a?a(eu(e,g),_,g+"",e,i,h):u;y===u&&(y=_),Aa(e,g,y)}},Oe)}function vf(e,i,o,a,h,_,g){var y=eu(e,o),T=eu(i,o),z=g.get(T);if(z){Aa(e,o,z);return}var B=_?_(y,T,o+"",e,i,g):u,Z=B===u;if(Z){var W=ht(T),$=!W&&pi(T),j=!W&&!$&&Br(T);B=T,W||$||j?ht(y)?B=y:$t(y)?B=Me(y):$?(Z=!1,B=Yu(T,!0)):j?(Z=!1,B=Vu(T,!0)):B=[]:Bo(T)||Ui(T)?(B=y,Ui(y)?B=Gl(y):(!Ut(y)||Un(y))&&(B=_l(T))):Z=!1}Z&&(g.set(T,B),h(B,T,a,_,g),g.delete(T)),Aa(e,o,B)}function Zu(e,i){var o=e.length;if(o)return i+=i<0?o:0,Hn(i,o)?e[i]:u}function Nu(e,i,o){i.length?i=zt(i,function(_){return ht(_)?function(g){return Wi(g,_.length===1?_[0]:_)}:_}):i=[ze];var a=-1;i=zt(i,Vt(J()));var h=Bu(e,function(_,g,y){var T=zt(i,function(z){return z(_)});return{criteria:T,index:++a,value:_}});return ma(h,function(_,g){return If(_,g,o)})}function yf(e,i){return Du(e,i,function(o,a){return hu(e,a)})}function Du(e,i,o){for(var a=-1,h=i.length,_={};++a<h;){var g=i[a],y=Wi(e,g);o(y,g)&&Mo(_,_i(g,e),y)}return _}function wf(e){return function(i){return Wi(i,e)}}function Za(e,i,o,a){var h=a?pa:zn,_=-1,g=i.length,y=e;for(e===i&&(i=Me(i)),o&&(y=zt(e,Vt(o)));++_<g;)for(var T=0,z=i[_],B=o?o(z):z;(T=h(y,B,T,a))>-1;)y!==e&&Er.call(y,T,1),Er.call(e,T,1);return e}function Wu(e,i){for(var o=e?i.length:0,a=o-1;o--;){var h=i[o];if(o==a||h!==_){var _=h;Hn(h)?Er.call(e,h,1):Fa(e,h)}}return e}function Na(e,i){return e+Mr(R()*(i-e+1))}function xf(e,i,o,a){for(var h=-1,_=f(Ri((i-e)/(o||1)),0),g=A(_);_--;)g[a?_:++h]=e,e+=o;return g}function Da(e,i){var o="";if(!e||i<1||i>X)return o;do i%2&&(o+=e),i=Mr(i/2),i&&(e+=e);while(i);return o}function gt(e,i){return nu(ml(e,i,ze),e+"")}function Lf(e){return bu(kr(e))}function bf(e,i){var o=kr(e);return Os(o,Di(i,0,o.length))}function Mo(e,i,o,a){if(!Ut(e))return e;i=_i(i,e);for(var h=-1,_=i.length,g=_-1,y=e;y!=null&&++h<_;){var T=Ln(i[h]),z=o;if(T==="__proto__"||T==="constructor"||T==="prototype")return e;if(h!=g){var B=y[T];z=a?a(B,T,y):u,z===u&&(z=Ut(B)?B:Hn(i[h+1])?[]:{})}So(y,T,z),y=y[T]}return e}var Fu=ai?function(e,i){return ai.set(e,i),e}:ze,Pf=ki?function(e,i){return ki(e,"toString",{configurable:!0,enumerable:!1,value:cu(i),writable:!0})}:ze;function Tf(e){return Os(kr(e))}function Ve(e,i,o){var a=-1,h=e.length;i<0&&(i=-i>h?0:h+i),o=o>h?h:o,o<0&&(o+=h),h=i>o?0:o-i>>>0,i>>>=0;for(var _=A(h);++a<h;)_[a]=e[a+i];return _}function Sf(e,i){var o;return fi(e,function(a,h,_){return o=i(a,h,_),!o}),!!o}function bs(e,i,o){var a=0,h=e==null?a:e.length;if(typeof i=="number"&&i===i&&h<=re){for(;a<h;){var _=a+h>>>1,g=e[_];g!==null&&!We(g)&&(o?g<=i:g<i)?a=_+1:h=_}return h}return Wa(e,i,ze,o)}function Wa(e,i,o,a){var h=0,_=e==null?0:e.length;if(_===0)return 0;i=o(i);for(var g=i!==i,y=i===null,T=We(i),z=i===u;h<_;){var B=Mr((h+_)/2),Z=o(e[B]),W=Z!==u,$=Z===null,j=Z===Z,mt=We(Z);if(g)var tt=a||j;else z?tt=j&&(a||W):y?tt=j&&W&&(a||!$):T?tt=j&&W&&!$&&(a||!mt):$||mt?tt=!1:tt=a?Z<=i:Z<i;tt?h=B+1:_=B}return m(_,ie)}function Hu(e,i){for(var o=-1,a=e.length,h=0,_=[];++o<a;){var g=e[o],y=i?i(g):g;if(!o||!sn(y,T)){var T=y;_[h++]=g===0?0:g}}return _}function Uu(e){return typeof e=="number"?e:We(e)?nt:+e}function De(e){if(typeof e=="string")return e;if(ht(e))return zt(e,De)+"";if(We(e))return vs?vs.call(e):"";var i=e+"";return i=="0"&&1/e==-ke?"-0":i}function ci(e,i,o){var a=-1,h=pr,_=e.length,g=!0,y=[],T=y;if(o)g=!1,h=po;else if(_>=v){var z=i?null:Zf(e);if(z)return xr(z);g=!1,h=de,T=new Ni}else T=i?[]:y;t:for(;++a<_;){var B=e[a],Z=i?i(B):B;if(B=o||B!==0?B:0,g&&Z===Z){for(var W=T.length;W--;)if(T[W]===Z)continue t;i&&T.push(Z),y.push(B)}else h(T,Z,o)||(T!==y&&T.push(Z),y.push(B))}return y}function Fa(e,i){return i=_i(i,e),e=gl(e,i),e==null||delete e[Ln(Xe(i))]}function qu(e,i,o,a){return Mo(e,i,o(Wi(e,i)),a)}function Ps(e,i,o,a){for(var h=e.length,_=a?h:-1;(a?_--:++_<h)&&i(e[_],_,e););return o?Ve(e,a?0:_,a?_+1:h):Ve(e,a?_+1:0,a?h:_)}function Gu(e,i){var o=e;return o instanceof vt&&(o=o.value()),mr(i,function(a,h){return h.func.apply(h.thisArg,_n([a],h.args))},o)}function Ha(e,i,o){var a=e.length;if(a<2)return a?ci(e[0]):[];for(var h=-1,_=A(a);++h<a;)for(var g=e[h],y=-1;++y<a;)y!=h&&(_[h]=Co(_[h]||g,e[y],i,o));return ci(ee(_,1),i,o)}function $u(e,i,o){for(var a=-1,h=e.length,_=i.length,g={};++a<h;){var y=a<_?i[a]:u;o(g,e[a],y)}return g}function Ua(e){return $t(e)?e:[]}function qa(e){return typeof e=="function"?e:ze}function _i(e,i){return ht(e)?e:ja(e,i)?[e]:xl(Mt(e))}var Cf=gt;function di(e,i,o){var a=e.length;return o=o===u?a:o,!i&&o>=a?e:Ve(e,i,o)}var Ku=ds||function(e){return Jt.clearTimeout(e)};function Yu(e,i){if(i)return e.slice();var o=e.length,a=Bi?Bi(o):new e.constructor(o);return e.copy(a),a}function Ga(e){var i=new e.constructor(e.byteLength);return new Ar(i).set(new Ar(e)),i}function Af(e,i){var o=i?Ga(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function Ef(e){var i=new e.constructor(e.source,Cn.exec(e));return i.lastIndex=e.lastIndex,i}function Mf(e){return yn?It(yn.call(e)):{}}function Vu(e,i){var o=i?Ga(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Xu(e,i){if(e!==i){var o=e!==u,a=e===null,h=e===e,_=We(e),g=i!==u,y=i===null,T=i===i,z=We(i);if(!y&&!z&&!_&&e>i||_&&g&&T&&!y&&!z||a&&g&&T||!o&&T||!h)return 1;if(!a&&!_&&!z&&e<i||z&&o&&h&&!a&&!_||y&&o&&h||!g&&h||!T)return-1}return 0}function If(e,i,o){for(var a=-1,h=e.criteria,_=i.criteria,g=h.length,y=o.length;++a<g;){var T=Xu(h[a],_[a]);if(T){if(a>=y)return T;var z=o[a];return T*(z=="desc"?-1:1)}}return e.index-i.index}function Ju(e,i,o,a){for(var h=-1,_=e.length,g=o.length,y=-1,T=i.length,z=f(_-g,0),B=A(T+z),Z=!a;++y<T;)B[y]=i[y];for(;++h<g;)(Z||h<_)&&(B[o[h]]=e[h]);for(;z--;)B[y++]=e[h++];return B}function Qu(e,i,o,a){for(var h=-1,_=e.length,g=-1,y=o.length,T=-1,z=i.length,B=f(_-y,0),Z=A(B+z),W=!a;++h<B;)Z[h]=e[h];for(var $=h;++T<z;)Z[$+T]=i[T];for(;++g<y;)(W||h<_)&&(Z[$+o[g]]=e[h++]);return Z}function Me(e,i){var o=-1,a=e.length;for(i||(i=A(a));++o<a;)i[o]=e[o];return i}function xn(e,i,o,a){var h=!o;o||(o={});for(var _=-1,g=i.length;++_<g;){var y=i[_],T=a?a(o[y],e[y],y,o,e):u;T===u&&(T=e[y]),h?Dn(o,y,T):So(o,y,T)}return o}function Of(e,i){return xn(e,Qa(e),i)}function zf(e,i){return xn(e,fl(e),i)}function Ts(e,i){return function(o,a){var h=ht(o)?_a:tf,_=i?i():{};return h(o,e,J(a,2),_)}}function Ir(e){return gt(function(i,o){var a=-1,h=o.length,_=h>1?o[h-1]:u,g=h>2?o[2]:u;for(_=e.length>3&&typeof _=="function"?(h--,_):u,g&&ve(o[0],o[1],g)&&(_=h<3?u:_,h=1),i=It(i);++a<h;){var y=o[a];y&&e(i,y,a,_)}return i})}function ju(e,i){return function(o,a){if(o==null)return o;if(!Ie(o))return e(o,a);for(var h=o.length,_=i?h:-1,g=It(o);(i?_--:++_<h)&&a(g[_],_,g)!==!1;);return o}}function tl(e){return function(i,o,a){for(var h=-1,_=It(i),g=a(i),y=g.length;y--;){var T=g[e?y:++h];if(o(_[T],T,_)===!1)break}return i}}function Bf(e,i,o){var a=i&it,h=Io(e);function _(){var g=this&&this!==Jt&&this instanceof _?h:e;return g.apply(a?o:this,arguments)}return _}function el(e){return function(i){i=Mt(i);var o=pe(i)?Pe(i):u,a=o?o[0]:i.charAt(0),h=o?di(o,1).join(""):i.slice(1);return a[e]()+h}}function Or(e){return function(i){return mr(jl(Ql(i).replace(Ot,"")),e,"")}}function Io(e){return function(){var i=arguments;switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3]);case 5:return new e(i[0],i[1],i[2],i[3],i[4]);case 6:return new e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new e(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var o=li(e.prototype),a=e.apply(o,i);return Ut(a)?a:o}}function kf(e,i,o){var a=Io(e);function h(){for(var _=arguments.length,g=A(_),y=_,T=zr(h);y--;)g[y]=arguments[y];var z=_<3&&g[0]!==T&&g[_-1]!==T?[]:jt(g,T);if(_-=z.length,_<o)return sl(e,i,Ss,h.placeholder,u,g,z,u,u,o-_);var B=this&&this!==Jt&&this instanceof h?a:e;return Wt(B,this,g)}return h}function nl(e){return function(i,o,a){var h=It(i);if(!Ie(i)){var _=J(o,3);i=te(i),o=function(y){return _(h[y],y,h)}}var g=e(i,o,a);return g>-1?h[_?i[g]:g]:u}}function il(e){return Fn(function(i){var o=i.length,a=o,h=me.prototype.thru;for(e&&i.reverse();a--;){var _=i[a];if(typeof _!="function")throw new Se(x);if(h&&!g&&Ms(_)=="wrapper")var g=new me([],!0)}for(a=g?a:o;++a<o;){_=i[a];var y=Ms(_),T=y=="wrapper"?Xa(_):u;T&&tu(T[0])&&T[1]==(ct|U|Ft|Dt)&&!T[4].length&&T[9]==1?g=g[Ms(T[0])].apply(g,T[3]):g=_.length==1&&tu(_)?g[y]():g.thru(_)}return function(){var z=arguments,B=z[0];if(g&&z.length==1&&ht(B))return g.plant(B).value();for(var Z=0,W=o?i[Z].apply(this,z):B;++Z<o;)W=i[Z].call(this,W);return W}})}function Ss(e,i,o,a,h,_,g,y,T,z){var B=i&ct,Z=i&it,W=i&Et,$=i&(U|Qt),j=i&we,mt=W?u:Io(e);function tt(){for(var yt=arguments.length,Lt=A(yt),Fe=yt;Fe--;)Lt[Fe]=arguments[Fe];if($)var ye=zr(tt),He=va(Lt,ye);if(a&&(Lt=Ju(Lt,a,h,$)),_&&(Lt=Qu(Lt,_,g,$)),yt-=He,$&&yt<z){var Kt=jt(Lt,ye);return sl(e,i,Ss,tt.placeholder,o,Lt,Kt,y,T,z-yt)}var an=Z?o:this,Gn=W?an[e]:e;return yt=Lt.length,y?Lt=ec(Lt,y):j&&yt>1&&Lt.reverse(),B&&T<yt&&(Lt.length=T),this&&this!==Jt&&this instanceof tt&&(Gn=mt||Io(Gn)),Gn.apply(an,Lt)}return tt}function rl(e,i){return function(o,a){return lf(o,e,i(a),{})}}function Cs(e,i){return function(o,a){var h;if(o===u&&a===u)return i;if(o!==u&&(h=o),a!==u){if(h===u)return a;typeof o=="string"||typeof a=="string"?(o=De(o),a=De(a)):(o=Uu(o),a=Uu(a)),h=e(o,a)}return h}}function $a(e){return Fn(function(i){return i=zt(i,Vt(J())),gt(function(o){var a=this;return e(i,function(h){return Wt(h,a,o)})})})}function As(e,i){i=i===u?" ":De(i);var o=i.length;if(o<2)return o?Da(i,e):i;var a=Da(i,Ri(e/nn(i)));return pe(i)?di(Pe(a),0,e).join(""):a.slice(0,e)}function Rf(e,i,o,a){var h=i&it,_=Io(e);function g(){for(var y=-1,T=arguments.length,z=-1,B=a.length,Z=A(B+T),W=this&&this!==Jt&&this instanceof g?_:e;++z<B;)Z[z]=a[z];for(;T--;)Z[z++]=arguments[++y];return Wt(W,h?o:this,Z)}return g}function ol(e){return function(i,o,a){return a&&typeof a!="number"&&ve(i,o,a)&&(o=a=u),i=qn(i),o===u?(o=i,i=0):o=qn(o),a=a===u?i<o?1:-1:qn(a),xf(i,o,a,e)}}function Es(e){return function(i,o){return typeof i=="string"&&typeof o=="string"||(i=Je(i),o=Je(o)),e(i,o)}}function sl(e,i,o,a,h,_,g,y,T,z){var B=i&U,Z=B?g:u,W=B?u:g,$=B?_:u,j=B?u:_;i|=B?Ft:Bt,i&=~(B?Bt:Ft),i&dt||(i&=~(it|Et));var mt=[e,i,h,$,Z,j,W,y,T,z],tt=o.apply(u,mt);return tu(e)&&vl(tt,mt),tt.placeholder=a,yl(tt,e,i)}function Ka(e){var i=qt[e];return function(o,a){if(o=Je(o),a=a==null?0:m(pt(a),292),a&&r(o)){var h=(Mt(o)+"e").split("e"),_=i(h[0]+"e"+(+h[1]+a));return h=(Mt(_)+"e").split("e"),+(h[0]+"e"+(+h[1]-a))}return i(o)}}var Zf=Ae&&1/xr(new Ae([,-0]))[1]==ke?function(e){return new Ae(e)}:pu;function al(e){return function(i){var o=ae(i);return o==Re?Ii(i):o==le?ii(i):ga(i,e(i))}}function Wn(e,i,o,a,h,_,g,y){var T=i&Et;if(!T&&typeof e!="function")throw new Se(x);var z=a?a.length:0;if(z||(i&=~(Ft|Bt),a=h=u),g=g===u?g:f(pt(g),0),y=y===u?y:pt(y),z-=h?h.length:0,i&Bt){var B=a,Z=h;a=h=u}var W=T?u:Xa(e),$=[e,i,o,a,h,B,Z,_,g,y];if(W&&Qf($,W),e=$[0],i=$[1],o=$[2],a=$[3],h=$[4],y=$[9]=$[9]===u?T?0:e.length:f($[9]-z,0),!y&&i&(U|Qt)&&(i&=~(U|Qt)),!i||i==it)var j=Bf(e,i,o);else i==U||i==Qt?j=kf(e,i,y):(i==Ft||i==(it|Ft))&&!h.length?j=Rf(e,i,o,a):j=Ss.apply(u,$);var mt=W?Fu:vl;return yl(mt(j,$),e,i)}function ul(e,i,o,a){return e===u||sn(e,Rn[o])&&!At.call(a,o)?i:e}function ll(e,i,o,a,h,_){return Ut(e)&&Ut(i)&&(_.set(i,e),Ls(e,i,u,ll,_),_.delete(i)),e}function Nf(e){return Bo(e)?u:e}function hl(e,i,o,a,h,_){var g=o&K,y=e.length,T=i.length;if(y!=T&&!(g&&T>y))return!1;var z=_.get(e),B=_.get(i);if(z&&B)return z==i&&B==e;var Z=-1,W=!0,$=o&D?new Ni:u;for(_.set(e,i),_.set(i,e);++Z<y;){var j=e[Z],mt=i[Z];if(a)var tt=g?a(mt,j,Z,i,e,_):a(j,mt,Z,e,i,_);if(tt!==u){if(tt)continue;W=!1;break}if($){if(!ni(i,function(yt,Lt){if(!de($,Lt)&&(j===yt||h(j,yt,o,a,_)))return $.push(Lt)})){W=!1;break}}else if(!(j===mt||h(j,mt,o,a,_))){W=!1;break}}return _.delete(e),_.delete(i),W}function Df(e,i,o,a,h,_,g){switch(o){case Tn:if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case Qn:return!(e.byteLength!=i.byteLength||!_(new Ar(e),new Ar(i)));case Le:case Kn:case Vn:return sn(+e,+i);case Yn:return e.name==i.name&&e.message==i.message;case Xn:case Jn:return e==i+"";case Re:var y=Ii;case le:var T=a&K;if(y||(y=xr),e.size!=i.size&&!T)return!1;var z=g.get(e);if(z)return z==i;a|=D,g.set(e,i);var B=hl(y(e),y(i),a,h,_,g);return g.delete(e),B;case yi:if(yn)return yn.call(e)==yn.call(i)}return!1}function Wf(e,i,o,a,h,_){var g=o&K,y=Ya(e),T=y.length,z=Ya(i),B=z.length;if(T!=B&&!g)return!1;for(var Z=T;Z--;){var W=y[Z];if(!(g?W in i:At.call(i,W)))return!1}var $=_.get(e),j=_.get(i);if($&&j)return $==i&&j==e;var mt=!0;_.set(e,i),_.set(i,e);for(var tt=g;++Z<T;){W=y[Z];var yt=e[W],Lt=i[W];if(a)var Fe=g?a(Lt,yt,W,i,e,_):a(yt,Lt,W,e,i,_);if(!(Fe===u?yt===Lt||h(yt,Lt,o,a,_):Fe)){mt=!1;break}tt||(tt=W=="constructor")}if(mt&&!tt){var ye=e.constructor,He=i.constructor;ye!=He&&"constructor"in e&&"constructor"in i&&!(typeof ye=="function"&&ye instanceof ye&&typeof He=="function"&&He instanceof He)&&(mt=!1)}return _.delete(e),_.delete(i),mt}function Fn(e){return nu(ml(e,u,Tl),e+"")}function Ya(e){return Mu(e,te,Qa)}function Va(e){return Mu(e,Oe,fl)}var Xa=ai?function(e){return ai.get(e)}:pu;function Ms(e){for(var i=e.name+"",o=ui[i],a=At.call(ui,i)?o.length:0;a--;){var h=o[a],_=h.func;if(_==null||_==e)return h.name}return i}function zr(e){var i=At.call(c,"placeholder")?c:e;return i.placeholder}function J(){var e=c.iteratee||_u;return e=e===_u?zu:e,arguments.length?e(arguments[0],arguments[1]):e}function Is(e,i){var o=e.__data__;return Yf(i)?o[typeof i=="string"?"string":"hash"]:o.map}function Ja(e){for(var i=te(e),o=i.length;o--;){var a=i[o],h=e[a];i[o]=[a,h,dl(h)]}return i}function Fi(e,i){var o=ya(e,i);return Ou(o)?o:u}function Ff(e){var i=At.call(e,gn),o=e[gn];try{e[gn]=u;var a=!0}catch{}var h=Oi.call(e);return a&&(i?e[gn]=o:delete e[gn]),h}var Qa=t?function(e){return e==null?[]:(e=It(e),tn(t(e),function(i){return Po.call(e,i)}))}:mu,fl=t?function(e){for(var i=[];e;)_n(i,Qa(e)),e=mn(e);return i}:mu,ae=ge;(Q&&ae(new Q(new ArrayBuffer(1)))!=Tn||_t&&ae(new _t)!=Re||se&&ae(se.resolve())!=vi||Ae&&ae(new Ae)!=le||vn&&ae(new vn)!=wi)&&(ae=function(e){var i=ge(e),o=i==Ze?e.constructor:u,a=o?Hi(o):"";if(a)switch(a){case Ta:return Tn;case Sa:return Re;case ms:return vi;case Ca:return le;case gs:return wi}return i});function Hf(e,i,o){for(var a=-1,h=o.length;++a<h;){var _=o[a],g=_.size;switch(_.type){case"drop":e+=g;break;case"dropRight":i-=g;break;case"take":i=m(i,e+g);break;case"takeRight":e=f(e,i-g);break}}return{start:e,end:i}}function Uf(e){var i=e.match(Ho);return i?i[1].split(Uo):[]}function cl(e,i,o){i=_i(i,e);for(var a=-1,h=i.length,_=!1;++a<h;){var g=Ln(i[a]);if(!(_=e!=null&&o(e,g)))break;e=e[g]}return _||++a!=h?_:(h=e==null?0:e.length,!!h&&Ns(h)&&Hn(g,h)&&(ht(e)||Ui(e)))}function qf(e){var i=e.length,o=new e.constructor(i);return i&&typeof e[0]=="string"&&At.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function _l(e){return typeof e.constructor=="function"&&!Oo(e)?li(mn(e)):{}}function Gf(e,i,o){var a=e.constructor;switch(i){case Qn:return Ga(e);case Le:case Kn:return new a(+e);case Tn:return Af(e,o);case Kr:case ji:case tr:case Yr:case er:case xi:case nr:case Vr:case Sn:return Vu(e,o);case Re:return new a;case Vn:case Jn:return new a(e);case Xn:return Ef(e);case le:return new a;case yi:return Mf(e)}}function $f(e,i){var o=i.length;if(!o)return e;var a=o-1;return i[a]=(o>1?"& ":"")+i[a],i=i.join(o>2?", ":" "),e.replace(Y,`{
/* [wrapped with `+i+`] */
`)}function Kf(e){return ht(e)||Ui(e)||!!(To&&e&&e[To])}function Hn(e,i){var o=typeof e;return i=i??X,!!i&&(o=="number"||o!="symbol"&&aa.test(e))&&e>-1&&e%1==0&&e<i}function ve(e,i,o){if(!Ut(o))return!1;var a=typeof i;return(a=="number"?Ie(o)&&Hn(i,o.length):a=="string"&&i in o)?sn(o[i],e):!1}function ja(e,i){if(ht(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||We(e)?!0:Qr.test(e)||!ea.test(e)||i!=null&&e in It(i)}function Yf(e){var i=typeof e;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?e!=="__proto__":e===null}function tu(e){var i=Ms(e),o=c[i];if(typeof o!="function"||!(i in vt.prototype))return!1;if(e===o)return!0;var a=Xa(o);return!!a&&e===a[0]}function Vf(e){return!!Lo&&Lo in e}var Xf=Cr?Un:gu;function Oo(e){var i=e&&e.constructor,o=typeof i=="function"&&i.prototype||Rn;return e===o}function dl(e){return e===e&&!Ut(e)}function pl(e,i){return function(o){return o==null?!1:o[e]===i&&(i!==u||e in It(o))}}function Jf(e){var i=Rs(e,function(a){return o.size===O&&o.clear(),a}),o=i.cache;return i}function Qf(e,i){var o=e[1],a=i[1],h=o|a,_=h<(it|Et|ct),g=a==ct&&o==U||a==ct&&o==Dt&&e[7].length<=i[8]||a==(ct|Dt)&&i[7].length<=i[8]&&o==U;if(!(_||g))return e;a&it&&(e[2]=i[2],h|=o&it?0:dt);var y=i[3];if(y){var T=e[3];e[3]=T?Ju(T,y,i[4]):y,e[4]=T?jt(e[3],H):i[4]}return y=i[5],y&&(T=e[5],e[5]=T?Qu(T,y,i[6]):y,e[6]=T?jt(e[5],H):i[6]),y=i[7],y&&(e[7]=y),a&ct&&(e[8]=e[8]==null?i[8]:m(e[8],i[8])),e[9]==null&&(e[9]=i[9]),e[0]=i[0],e[1]=h,e}function jf(e){var i=[];if(e!=null)for(var o in It(e))i.push(o);return i}function tc(e){return Oi.call(e)}function ml(e,i,o){return i=f(i===u?e.length-1:i,0),function(){for(var a=arguments,h=-1,_=f(a.length-i,0),g=A(_);++h<_;)g[h]=a[i+h];h=-1;for(var y=A(i+1);++h<i;)y[h]=a[h];return y[i]=o(g),Wt(e,this,y)}}function gl(e,i){return i.length<2?e:Wi(e,Ve(i,0,-1))}function ec(e,i){for(var o=e.length,a=m(i.length,o),h=Me(e);a--;){var _=i[a];e[a]=Hn(_,o)?h[_]:u}return e}function eu(e,i){if(!(i==="constructor"&&typeof e[i]=="function")&&i!="__proto__")return e[i]}var vl=wl(Fu),zo=ps||function(e,i){return Jt.setTimeout(e,i)},nu=wl(Pf);function yl(e,i,o){var a=i+"";return nu(e,$f(a,nc(Uf(a),o)))}function wl(e){var i=0,o=0;return function(){var a=C(),h=Gs-(a-o);if(o=a,h>0){if(++i>=xe)return arguments[0]}else i=0;return e.apply(u,arguments)}}function Os(e,i){var o=-1,a=e.length,h=a-1;for(i=i===u?a:i;++o<i;){var _=Na(o,h),g=e[_];e[_]=e[o],e[o]=g}return e.length=i,e}var xl=Jf(function(e){var i=[];return e.charCodeAt(0)===46&&i.push(""),e.replace(na,function(o,a,h,_){i.push(h?_.replace(eo,"$1"):a||o)}),i});function Ln(e){if(typeof e=="string"||We(e))return e;var i=e+"";return i=="0"&&1/e==-ke?"-0":i}function Hi(e){if(e!=null){try{return pn.call(e)}catch{}try{return e+""}catch{}}return""}function nc(e,i){return ce(Yt,function(o){var a="_."+o[0];i&o[1]&&!pr(e,a)&&e.push(a)}),e.sort()}function Ll(e){if(e instanceof vt)return e.clone();var i=new me(e.__wrapped__,e.__chain__);return i.__actions__=Me(e.__actions__),i.__index__=e.__index__,i.__values__=e.__values__,i}function ic(e,i,o){(o?ve(e,i,o):i===u)?i=1:i=f(pt(i),0);var a=e==null?0:e.length;if(!a||i<1)return[];for(var h=0,_=0,g=A(Ri(a/i));h<a;)g[_++]=Ve(e,h,h+=i);return g}function rc(e){for(var i=-1,o=e==null?0:e.length,a=0,h=[];++i<o;){var _=e[i];_&&(h[a++]=_)}return h}function oc(){var e=arguments.length;if(!e)return[];for(var i=A(e-1),o=arguments[0],a=e;a--;)i[a-1]=arguments[a];return _n(ht(o)?Me(o):[o],ee(i,1))}var sc=gt(function(e,i){return $t(e)?Co(e,ee(i,1,$t,!0)):[]}),ac=gt(function(e,i){var o=Xe(i);return $t(o)&&(o=u),$t(e)?Co(e,ee(i,1,$t,!0),J(o,2)):[]}),uc=gt(function(e,i){var o=Xe(i);return $t(o)&&(o=u),$t(e)?Co(e,ee(i,1,$t,!0),u,o):[]});function lc(e,i,o){var a=e==null?0:e.length;return a?(i=o||i===u?1:pt(i),Ve(e,i<0?0:i,a)):[]}function hc(e,i,o){var a=e==null?0:e.length;return a?(i=o||i===u?1:pt(i),i=a-i,Ve(e,0,i<0?0:i)):[]}function fc(e,i){return e&&e.length?Ps(e,J(i,3),!0,!0):[]}function cc(e,i){return e&&e.length?Ps(e,J(i,3),!0):[]}function _c(e,i,o,a){var h=e==null?0:e.length;return h?(o&&typeof o!="number"&&ve(e,i,o)&&(o=0,a=h),of(e,i,o,a)):[]}function bl(e,i,o){var a=e==null?0:e.length;if(!a)return-1;var h=o==null?0:pt(o);return h<0&&(h=f(a+h,0)),Ai(e,J(i,3),h)}function Pl(e,i,o){var a=e==null?0:e.length;if(!a)return-1;var h=a-1;return o!==u&&(h=pt(o),h=o<0?f(a+h,0):m(h,a-1)),Ai(e,J(i,3),h,!0)}function Tl(e){var i=e==null?0:e.length;return i?ee(e,1):[]}function dc(e){var i=e==null?0:e.length;return i?ee(e,ke):[]}function pc(e,i){var o=e==null?0:e.length;return o?(i=i===u?1:pt(i),ee(e,i)):[]}function mc(e){for(var i=-1,o=e==null?0:e.length,a={};++i<o;){var h=e[i];a[h[0]]=h[1]}return a}function Sl(e){return e&&e.length?e[0]:u}function gc(e,i,o){var a=e==null?0:e.length;if(!a)return-1;var h=o==null?0:pt(o);return h<0&&(h=f(a+h,0)),zn(e,i,h)}function vc(e){var i=e==null?0:e.length;return i?Ve(e,0,-1):[]}var yc=gt(function(e){var i=zt(e,Ua);return i.length&&i[0]===e[0]?za(i):[]}),wc=gt(function(e){var i=Xe(e),o=zt(e,Ua);return i===Xe(o)?i=u:o.pop(),o.length&&o[0]===e[0]?za(o,J(i,2)):[]}),xc=gt(function(e){var i=Xe(e),o=zt(e,Ua);return i=typeof i=="function"?i:u,i&&o.pop(),o.length&&o[0]===e[0]?za(o,u,i):[]});function Lc(e,i){return e==null?"":s.call(e,i)}function Xe(e){var i=e==null?0:e.length;return i?e[i-1]:u}function bc(e,i,o){var a=e==null?0:e.length;if(!a)return-1;var h=a;return o!==u&&(h=pt(o),h=h<0?f(a+h,0):m(h,a-1)),i===i?en(e,i,h):Ai(e,mo,h,!0)}function Pc(e,i){return e&&e.length?Zu(e,pt(i)):u}var Tc=gt(Cl);function Cl(e,i){return e&&e.length&&i&&i.length?Za(e,i):e}function Sc(e,i,o){return e&&e.length&&i&&i.length?Za(e,i,J(o,2)):e}function Cc(e,i,o){return e&&e.length&&i&&i.length?Za(e,i,u,o):e}var Ac=Fn(function(e,i){var o=e==null?0:e.length,a=Ea(e,i);return Wu(e,zt(i,function(h){return Hn(h,o)?+h:h}).sort(Xu)),a});function Ec(e,i){var o=[];if(!(e&&e.length))return o;var a=-1,h=[],_=e.length;for(i=J(i,3);++a<_;){var g=e[a];i(g,a,e)&&(o.push(g),h.push(a))}return Wu(e,h),o}function iu(e){return e==null?e:F.call(e)}function Mc(e,i,o){var a=e==null?0:e.length;return a?(o&&typeof o!="number"&&ve(e,i,o)?(i=0,o=a):(i=i==null?0:pt(i),o=o===u?a:pt(o)),Ve(e,i,o)):[]}function Ic(e,i){return bs(e,i)}function Oc(e,i,o){return Wa(e,i,J(o,2))}function zc(e,i){var o=e==null?0:e.length;if(o){var a=bs(e,i);if(a<o&&sn(e[a],i))return a}return-1}function Bc(e,i){return bs(e,i,!0)}function kc(e,i,o){return Wa(e,i,J(o,2),!0)}function Rc(e,i){var o=e==null?0:e.length;if(o){var a=bs(e,i,!0)-1;if(sn(e[a],i))return a}return-1}function Zc(e){return e&&e.length?Hu(e):[]}function Nc(e,i){return e&&e.length?Hu(e,J(i,2)):[]}function Dc(e){var i=e==null?0:e.length;return i?Ve(e,1,i):[]}function Wc(e,i,o){return e&&e.length?(i=o||i===u?1:pt(i),Ve(e,0,i<0?0:i)):[]}function Fc(e,i,o){var a=e==null?0:e.length;return a?(i=o||i===u?1:pt(i),i=a-i,Ve(e,i<0?0:i,a)):[]}function Hc(e,i){return e&&e.length?Ps(e,J(i,3),!1,!0):[]}function Uc(e,i){return e&&e.length?Ps(e,J(i,3)):[]}var qc=gt(function(e){return ci(ee(e,1,$t,!0))}),Gc=gt(function(e){var i=Xe(e);return $t(i)&&(i=u),ci(ee(e,1,$t,!0),J(i,2))}),$c=gt(function(e){var i=Xe(e);return i=typeof i=="function"?i:u,ci(ee(e,1,$t,!0),u,i)});function Kc(e){return e&&e.length?ci(e):[]}function Yc(e,i){return e&&e.length?ci(e,J(i,2)):[]}function Vc(e,i){return i=typeof i=="function"?i:u,e&&e.length?ci(e,u,i):[]}function ru(e){if(!(e&&e.length))return[];var i=0;return e=tn(e,function(o){if($t(o))return i=f(o.length,i),!0}),vr(i,function(o){return zt(e,vo(o))})}function Al(e,i){if(!(e&&e.length))return[];var o=ru(e);return i==null?o:zt(o,function(a){return Wt(i,u,a)})}var Xc=gt(function(e,i){return $t(e)?Co(e,i):[]}),Jc=gt(function(e){return Ha(tn(e,$t))}),Qc=gt(function(e){var i=Xe(e);return $t(i)&&(i=u),Ha(tn(e,$t),J(i,2))}),jc=gt(function(e){var i=Xe(e);return i=typeof i=="function"?i:u,Ha(tn(e,$t),u,i)}),t_=gt(ru);function e_(e,i){return $u(e||[],i||[],So)}function n_(e,i){return $u(e||[],i||[],Mo)}var i_=gt(function(e){var i=e.length,o=i>1?e[i-1]:u;return o=typeof o=="function"?(e.pop(),o):u,Al(e,o)});function El(e){var i=c(e);return i.__chain__=!0,i}function r_(e,i){return i(e),e}function zs(e,i){return i(e)}var o_=Fn(function(e){var i=e.length,o=i?e[0]:0,a=this.__wrapped__,h=function(_){return Ea(_,e)};return i>1||this.__actions__.length||!(a instanceof vt)||!Hn(o)?this.thru(h):(a=a.slice(o,+o+(i?1:0)),a.__actions__.push({func:zs,args:[h],thisArg:u}),new me(a,this.__chain__).thru(function(_){return i&&!_.length&&_.push(u),_}))});function s_(){return El(this)}function a_(){return new me(this.value(),this.__chain__)}function u_(){this.__values__===u&&(this.__values__=Ul(this.value()));var e=this.__index__>=this.__values__.length,i=e?u:this.__values__[this.__index__++];return{done:e,value:i}}function l_(){return this}function h_(e){for(var i,o=this;o instanceof hi;){var a=Ll(o);a.__index__=0,a.__values__=u,i?h.__wrapped__=a:i=a;var h=a;o=o.__wrapped__}return h.__wrapped__=e,i}function f_(){var e=this.__wrapped__;if(e instanceof vt){var i=e;return this.__actions__.length&&(i=new vt(this)),i=i.reverse(),i.__actions__.push({func:zs,args:[iu],thisArg:u}),new me(i,this.__chain__)}return this.thru(iu)}function c_(){return Gu(this.__wrapped__,this.__actions__)}var __=Ts(function(e,i,o){At.call(e,o)?++e[o]:Dn(e,o,1)});function d_(e,i,o){var a=ht(e)?_o:rf;return o&&ve(e,i,o)&&(i=u),a(e,J(i,3))}function p_(e,i){var o=ht(e)?tn:Au;return o(e,J(i,3))}var m_=nl(bl),g_=nl(Pl);function v_(e,i){return ee(Bs(e,i),1)}function y_(e,i){return ee(Bs(e,i),ke)}function w_(e,i,o){return o=o===u?1:pt(o),ee(Bs(e,i),o)}function Ml(e,i){var o=ht(e)?ce:fi;return o(e,J(i,3))}function Il(e,i){var o=ht(e)?cn:Cu;return o(e,J(i,3))}var x_=Ts(function(e,i,o){At.call(e,o)?e[o].push(i):Dn(e,o,[i])});function L_(e,i,o,a){e=Ie(e)?e:kr(e),o=o&&!a?pt(o):0;var h=e.length;return o<0&&(o=f(h+o,0)),Ds(e)?o<=h&&e.indexOf(i,o)>-1:!!h&&zn(e,i,o)>-1}var b_=gt(function(e,i,o){var a=-1,h=typeof i=="function",_=Ie(e)?A(e.length):[];return fi(e,function(g){_[++a]=h?Wt(i,g,o):Ao(g,i,o)}),_}),P_=Ts(function(e,i,o){Dn(e,o,i)});function Bs(e,i){var o=ht(e)?zt:Bu;return o(e,J(i,3))}function T_(e,i,o,a){return e==null?[]:(ht(i)||(i=i==null?[]:[i]),o=a?u:o,ht(o)||(o=o==null?[]:[o]),Nu(e,i,o))}var S_=Ts(function(e,i,o){e[o?0:1].push(i)},function(){return[[],[]]});function C_(e,i,o){var a=ht(e)?mr:gr,h=arguments.length<3;return a(e,J(i,4),o,h,fi)}function A_(e,i,o){var a=ht(e)?ls:gr,h=arguments.length<3;return a(e,J(i,4),o,h,Cu)}function E_(e,i){var o=ht(e)?tn:Au;return o(e,Zs(J(i,3)))}function M_(e){var i=ht(e)?bu:Lf;return i(e)}function I_(e,i,o){(o?ve(e,i,o):i===u)?i=1:i=pt(i);var a=ht(e)?Qh:bf;return a(e,i)}function O_(e){var i=ht(e)?jh:Tf;return i(e)}function z_(e){if(e==null)return 0;if(Ie(e))return Ds(e)?nn(e):e.length;var i=ae(e);return i==Re||i==le?e.size:ka(e).length}function B_(e,i,o){var a=ht(e)?ni:Sf;return o&&ve(e,i,o)&&(i=u),a(e,J(i,3))}var k_=gt(function(e,i){if(e==null)return[];var o=i.length;return o>1&&ve(e,i[0],i[1])?i=[]:o>2&&ve(i[0],i[1],i[2])&&(i=[i[0]]),Nu(e,ee(i,1),[])}),ks=Pa||function(){return Jt.Date.now()};function R_(e,i){if(typeof i!="function")throw new Se(x);return e=pt(e),function(){if(--e<1)return i.apply(this,arguments)}}function Ol(e,i,o){return i=o?u:i,i=e&&i==null?e.length:i,Wn(e,ct,u,u,u,u,i)}function zl(e,i){var o;if(typeof i!="function")throw new Se(x);return e=pt(e),function(){return--e>0&&(o=i.apply(this,arguments)),e<=1&&(i=u),o}}var ou=gt(function(e,i,o){var a=it;if(o.length){var h=jt(o,zr(ou));a|=Ft}return Wn(e,a,i,o,h)}),Bl=gt(function(e,i,o){var a=it|Et;if(o.length){var h=jt(o,zr(Bl));a|=Ft}return Wn(i,a,e,o,h)});function kl(e,i,o){i=o?u:i;var a=Wn(e,U,u,u,u,u,u,i);return a.placeholder=kl.placeholder,a}function Rl(e,i,o){i=o?u:i;var a=Wn(e,Qt,u,u,u,u,u,i);return a.placeholder=Rl.placeholder,a}function Zl(e,i,o){var a,h,_,g,y,T,z=0,B=!1,Z=!1,W=!0;if(typeof e!="function")throw new Se(x);i=Je(i)||0,Ut(o)&&(B=!!o.leading,Z="maxWait"in o,_=Z?f(Je(o.maxWait)||0,i):_,W="trailing"in o?!!o.trailing:W);function $(Kt){var an=a,Gn=h;return a=h=u,z=Kt,g=e.apply(Gn,an),g}function j(Kt){return z=Kt,y=zo(yt,i),B?$(Kt):g}function mt(Kt){var an=Kt-T,Gn=Kt-z,nh=i-an;return Z?m(nh,_-Gn):nh}function tt(Kt){var an=Kt-T,Gn=Kt-z;return T===u||an>=i||an<0||Z&&Gn>=_}function yt(){var Kt=ks();if(tt(Kt))return Lt(Kt);y=zo(yt,mt(Kt))}function Lt(Kt){return y=u,W&&a?$(Kt):(a=h=u,g)}function Fe(){y!==u&&Ku(y),z=0,a=T=h=y=u}function ye(){return y===u?g:Lt(ks())}function He(){var Kt=ks(),an=tt(Kt);if(a=arguments,h=this,T=Kt,an){if(y===u)return j(T);if(Z)return Ku(y),y=zo(yt,i),$(T)}return y===u&&(y=zo(yt,i)),g}return He.cancel=Fe,He.flush=ye,He}var Z_=gt(function(e,i){return Su(e,1,i)}),N_=gt(function(e,i,o){return Su(e,Je(i)||0,o)});function D_(e){return Wn(e,we)}function Rs(e,i){if(typeof e!="function"||i!=null&&typeof i!="function")throw new Se(x);var o=function(){var a=arguments,h=i?i.apply(this,a):a[0],_=o.cache;if(_.has(h))return _.get(h);var g=e.apply(this,a);return o.cache=_.set(h,g)||_,g};return o.cache=new(Rs.Cache||Nn),o}Rs.Cache=Nn;function Zs(e){if(typeof e!="function")throw new Se(x);return function(){var i=arguments;switch(i.length){case 0:return!e.call(this);case 1:return!e.call(this,i[0]);case 2:return!e.call(this,i[0],i[1]);case 3:return!e.call(this,i[0],i[1],i[2])}return!e.apply(this,i)}}function W_(e){return zl(2,e)}var F_=Cf(function(e,i){i=i.length==1&&ht(i[0])?zt(i[0],Vt(J())):zt(ee(i,1),Vt(J()));var o=i.length;return gt(function(a){for(var h=-1,_=m(a.length,o);++h<_;)a[h]=i[h].call(this,a[h]);return Wt(e,this,a)})}),su=gt(function(e,i){var o=jt(i,zr(su));return Wn(e,Ft,u,i,o)}),Nl=gt(function(e,i){var o=jt(i,zr(Nl));return Wn(e,Bt,u,i,o)}),H_=Fn(function(e,i){return Wn(e,Dt,u,u,u,i)});function U_(e,i){if(typeof e!="function")throw new Se(x);return i=i===u?i:pt(i),gt(e,i)}function q_(e,i){if(typeof e!="function")throw new Se(x);return i=i==null?0:f(pt(i),0),gt(function(o){var a=o[i],h=di(o,0,i);return a&&_n(h,a),Wt(e,this,h)})}function G_(e,i,o){var a=!0,h=!0;if(typeof e!="function")throw new Se(x);return Ut(o)&&(a="leading"in o?!!o.leading:a,h="trailing"in o?!!o.trailing:h),Zl(e,i,{leading:a,maxWait:i,trailing:h})}function $_(e){return Ol(e,1)}function K_(e,i){return su(qa(i),e)}function Y_(){if(!arguments.length)return[];var e=arguments[0];return ht(e)?e:[e]}function V_(e){return Ye(e,k)}function X_(e,i){return i=typeof i=="function"?i:u,Ye(e,k,i)}function J_(e){return Ye(e,N|k)}function Q_(e,i){return i=typeof i=="function"?i:u,Ye(e,N|k,i)}function j_(e,i){return i==null||Tu(e,i,te(i))}function sn(e,i){return e===i||e!==e&&i!==i}var td=Es(Oa),ed=Es(function(e,i){return e>=i}),Ui=Iu(function(){return arguments}())?Iu:function(e){return Gt(e)&&At.call(e,"callee")&&!Po.call(e,"callee")},ht=A.isArray,nd=os?Vt(os):hf;function Ie(e){return e!=null&&Ns(e.length)&&!Un(e)}function $t(e){return Gt(e)&&Ie(e)}function id(e){return e===!0||e===!1||Gt(e)&&ge(e)==Le}var pi=n||gu,rd=co?Vt(co):ff;function od(e){return Gt(e)&&e.nodeType===1&&!Bo(e)}function sd(e){if(e==null)return!0;if(Ie(e)&&(ht(e)||typeof e=="string"||typeof e.splice=="function"||pi(e)||Br(e)||Ui(e)))return!e.length;var i=ae(e);if(i==Re||i==le)return!e.size;if(Oo(e))return!ka(e).length;for(var o in e)if(At.call(e,o))return!1;return!0}function ad(e,i){return Eo(e,i)}function ud(e,i,o){o=typeof o=="function"?o:u;var a=o?o(e,i):u;return a===u?Eo(e,i,u,o):!!a}function au(e){if(!Gt(e))return!1;var i=ge(e);return i==Yn||i==Gr||typeof e.message=="string"&&typeof e.name=="string"&&!Bo(e)}function ld(e){return typeof e=="number"&&r(e)}function Un(e){if(!Ut(e))return!1;var i=ge(e);return i==hn||i==Qi||i==Qe||i==Ks}function Dl(e){return typeof e=="number"&&e==pt(e)}function Ns(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=X}function Ut(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}function Gt(e){return e!=null&&typeof e=="object"}var Wl=ss?Vt(ss):_f;function hd(e,i){return e===i||Ba(e,i,Ja(i))}function fd(e,i,o){return o=typeof o=="function"?o:u,Ba(e,i,Ja(i),o)}function cd(e){return Fl(e)&&e!=+e}function _d(e){if(Xf(e))throw new rt(P);return Ou(e)}function dd(e){return e===null}function pd(e){return e==null}function Fl(e){return typeof e=="number"||Gt(e)&&ge(e)==Vn}function Bo(e){if(!Gt(e)||ge(e)!=Ze)return!1;var i=mn(e);if(i===null)return!0;var o=At.call(i,"constructor")&&i.constructor;return typeof o=="function"&&o instanceof o&&pn.call(o)==ba}var uu=as?Vt(as):df;function md(e){return Dl(e)&&e>=-X&&e<=X}var Hl=dr?Vt(dr):pf;function Ds(e){return typeof e=="string"||!ht(e)&&Gt(e)&&ge(e)==Jn}function We(e){return typeof e=="symbol"||Gt(e)&&ge(e)==yi}var Br=us?Vt(us):mf;function gd(e){return e===u}function vd(e){return Gt(e)&&ae(e)==wi}function yd(e){return Gt(e)&&ge(e)==$r}var wd=Es(Ra),xd=Es(function(e,i){return e<=i});function Ul(e){if(!e)return[];if(Ie(e))return Ds(e)?Pe(e):Me(e);if(si&&e[si])return wa(e[si]());var i=ae(e),o=i==Re?Ii:i==le?xr:kr;return o(e)}function qn(e){if(!e)return e===0?e:0;if(e=Je(e),e===ke||e===-ke){var i=e<0?-1:1;return i*No}return e===e?e:0}function pt(e){var i=qn(e),o=i%1;return i===i?o?i-o:i:0}function ql(e){return e?Di(pt(e),0,bt):0}function Je(e){if(typeof e=="number")return e;if(We(e))return nt;if(Ut(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=Ut(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=be(e);var o=ra.test(e);return o||sa.test(e)?ca(e.slice(2),o?2:8):Ko.test(e)?nt:+e}function Gl(e){return xn(e,Oe(e))}function Ld(e){return e?Di(pt(e),-X,X):e===0?e:0}function Mt(e){return e==null?"":De(e)}var bd=Ir(function(e,i){if(Oo(i)||Ie(i)){xn(i,te(i),e);return}for(var o in i)At.call(i,o)&&So(e,o,i[o])}),$l=Ir(function(e,i){xn(i,Oe(i),e)}),Ws=Ir(function(e,i,o,a){xn(i,Oe(i),e,a)}),Pd=Ir(function(e,i,o,a){xn(i,te(i),e,a)}),Td=Fn(Ea);function Sd(e,i){var o=li(e);return i==null?o:Pu(o,i)}var Cd=gt(function(e,i){e=It(e);var o=-1,a=i.length,h=a>2?i[2]:u;for(h&&ve(i[0],i[1],h)&&(a=1);++o<a;)for(var _=i[o],g=Oe(_),y=-1,T=g.length;++y<T;){var z=g[y],B=e[z];(B===u||sn(B,Rn[z])&&!At.call(e,z))&&(e[z]=_[z])}return e}),Ad=gt(function(e){return e.push(u,ll),Wt(Kl,u,e)});function Ed(e,i){return _e(e,J(i,3),wn)}function Md(e,i){return _e(e,J(i,3),Ia)}function Id(e,i){return e==null?e:Ma(e,J(i,3),Oe)}function Od(e,i){return e==null?e:Eu(e,J(i,3),Oe)}function zd(e,i){return e&&wn(e,J(i,3))}function Bd(e,i){return e&&Ia(e,J(i,3))}function kd(e){return e==null?[]:xs(e,te(e))}function Rd(e){return e==null?[]:xs(e,Oe(e))}function lu(e,i,o){var a=e==null?u:Wi(e,i);return a===u?o:a}function Zd(e,i){return e!=null&&cl(e,i,sf)}function hu(e,i){return e!=null&&cl(e,i,af)}var Nd=rl(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=Oi.call(i)),e[i]=o},cu(ze)),Dd=rl(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=Oi.call(i)),At.call(e,i)?e[i].push(o):e[i]=[o]},J),Wd=gt(Ao);function te(e){return Ie(e)?Lu(e):ka(e)}function Oe(e){return Ie(e)?Lu(e,!0):gf(e)}function Fd(e,i){var o={};return i=J(i,3),wn(e,function(a,h,_){Dn(o,i(a,h,_),a)}),o}function Hd(e,i){var o={};return i=J(i,3),wn(e,function(a,h,_){Dn(o,h,i(a,h,_))}),o}var Ud=Ir(function(e,i,o){Ls(e,i,o)}),Kl=Ir(function(e,i,o,a){Ls(e,i,o,a)}),qd=Fn(function(e,i){var o={};if(e==null)return o;var a=!1;i=zt(i,function(_){return _=_i(_,e),a||(a=_.length>1),_}),xn(e,Va(e),o),a&&(o=Ye(o,N|G|k,Nf));for(var h=i.length;h--;)Fa(o,i[h]);return o});function Gd(e,i){return Yl(e,Zs(J(i)))}var $d=Fn(function(e,i){return e==null?{}:yf(e,i)});function Yl(e,i){if(e==null)return{};var o=zt(Va(e),function(a){return[a]});return i=J(i),Du(e,o,function(a,h){return i(a,h[0])})}function Kd(e,i,o){i=_i(i,e);var a=-1,h=i.length;for(h||(h=1,e=u);++a<h;){var _=e==null?u:e[Ln(i[a])];_===u&&(a=h,_=o),e=Un(_)?_.call(e):_}return e}function Yd(e,i,o){return e==null?e:Mo(e,i,o)}function Vd(e,i,o,a){return a=typeof a=="function"?a:u,e==null?e:Mo(e,i,o,a)}var Vl=al(te),Xl=al(Oe);function Xd(e,i,o){var a=ht(e),h=a||pi(e)||Br(e);if(i=J(i,4),o==null){var _=e&&e.constructor;h?o=a?new _:[]:Ut(e)?o=Un(_)?li(mn(e)):{}:o={}}return(h?ce:wn)(e,function(g,y,T){return i(o,g,y,T)}),o}function Jd(e,i){return e==null?!0:Fa(e,i)}function Qd(e,i,o){return e==null?e:qu(e,i,qa(o))}function jd(e,i,o,a){return a=typeof a=="function"?a:u,e==null?e:qu(e,i,qa(o),a)}function kr(e){return e==null?[]:wo(e,te(e))}function tp(e){return e==null?[]:wo(e,Oe(e))}function ep(e,i,o){return o===u&&(o=i,i=u),o!==u&&(o=Je(o),o=o===o?o:0),i!==u&&(i=Je(i),i=i===i?i:0),Di(Je(e),i,o)}function np(e,i,o){return i=qn(i),o===u?(o=i,i=0):o=qn(o),e=Je(e),uf(e,i,o)}function ip(e,i,o){if(o&&typeof o!="boolean"&&ve(e,i,o)&&(i=o=u),o===u&&(typeof i=="boolean"?(o=i,i=u):typeof e=="boolean"&&(o=e,e=u)),e===u&&i===u?(e=0,i=1):(e=qn(e),i===u?(i=e,e=0):i=qn(i)),e>i){var a=e;e=i,i=a}if(o||e%1||i%1){var h=R();return m(e+h*(i-e+uo("1e-"+((h+"").length-1))),i)}return Na(e,i)}var rp=Or(function(e,i,o){return i=i.toLowerCase(),e+(o?Jl(i):i)});function Jl(e){return fu(Mt(e).toLowerCase())}function Ql(e){return e=Mt(e),e&&e.replace(Yo,Mi).replace(es,"")}function op(e,i,o){e=Mt(e),i=De(i);var a=e.length;o=o===u?a:Di(pt(o),0,a);var h=o;return o-=i.length,o>=0&&e.slice(o,h)==i}function sp(e){return e=Mt(e),e&&Qs.test(e)?e.replace(Jr,fs):e}function ap(e){return e=Mt(e),e&&ia.test(e)?e.replace(jr,"\\$&"):e}var up=Or(function(e,i,o){return e+(o?"-":"")+i.toLowerCase()}),lp=Or(function(e,i,o){return e+(o?" ":"")+i.toLowerCase()}),hp=el("toLowerCase");function fp(e,i,o){e=Mt(e),i=pt(i);var a=i?nn(e):0;if(!i||a>=i)return e;var h=(i-a)/2;return As(Mr(h),o)+e+As(Ri(h),o)}function cp(e,i,o){e=Mt(e),i=pt(i);var a=i?nn(e):0;return i&&a<i?e+As(i-a,o):e}function _p(e,i,o){e=Mt(e),i=pt(i);var a=i?nn(e):0;return i&&a<i?As(i-a,o)+e:e}function dp(e,i,o){return o||i==null?i=0:i&&(i=+i),E(Mt(e).replace(to,""),i||0)}function pp(e,i,o){return(o?ve(e,i,o):i===u)?i=1:i=pt(i),Da(Mt(e),i)}function mp(){var e=arguments,i=Mt(e[0]);return e.length<3?i:i.replace(e[1],e[2])}var gp=Or(function(e,i,o){return e+(o?"_":"")+i.toLowerCase()});function vp(e,i,o){return o&&typeof o!="number"&&ve(e,i,o)&&(i=o=u),o=o===u?bt:o>>>0,o?(e=Mt(e),e&&(typeof i=="string"||i!=null&&!uu(i))&&(i=De(i),!i&&pe(e))?di(Pe(e),0,o):e.split(i,o)):[]}var yp=Or(function(e,i,o){return e+(o?" ":"")+fu(i)});function wp(e,i,o){return e=Mt(e),o=o==null?0:Di(pt(o),0,e.length),i=De(i),e.slice(o,o+i.length)==i}function xp(e,i,o){var a=c.templateSettings;o&&ve(e,i,o)&&(i=u),e=Mt(e),i=Ws({},i,a,ul);var h=Ws({},i.imports,a.imports,ul),_=te(h),g=wo(h,_),y,T,z=0,B=i.interpolate||ir,Z="__p += '",W=Te((i.escape||ir).source+"|"+B.source+"|"+(B===Fo?$o:ir).source+"|"+(i.evaluate||ir).source+"|$","g"),$="//# sourceURL="+(At.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Si+"]")+`
`;e.replace(W,function(tt,yt,Lt,Fe,ye,He){return Lt||(Lt=Fe),Z+=e.slice(z,He).replace(rr,yr),yt&&(y=!0,Z+=`' +
__e(`+yt+`) +
'`),ye&&(T=!0,Z+=`';
`+ye+`;
__p += '`),Lt&&(Z+=`' +
((__t = (`+Lt+`)) == null ? '' : __t) +
'`),z=He+tt.length,tt}),Z+=`';
`;var j=At.call(i,"variable")&&i.variable;if(!j)Z=`with (obj) {
`+Z+`
}
`;else if(Go.test(j))throw new rt(M);Z=(T?Z.replace(Vs,""):Z).replace(Xs,"$1").replace(Wo,"$1;"),Z="function("+(j||"obj")+`) {
`+(j?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Z+`return __p
}`;var mt=th(function(){return St(_,$+"return "+Z).apply(u,g)});if(mt.source=Z,au(mt))throw mt;return mt}function Lp(e){return Mt(e).toLowerCase()}function bp(e){return Mt(e).toUpperCase()}function Pp(e,i,o){if(e=Mt(e),e&&(o||i===u))return be(e);if(!e||!(i=De(i)))return e;var a=Pe(e),h=Pe(i),_=hs(a,h),g=Bn(a,h)+1;return di(a,_,g).join("")}function Tp(e,i,o){if(e=Mt(e),e&&(o||i===u))return e.slice(0,Lr(e)+1);if(!e||!(i=De(i)))return e;var a=Pe(e),h=Bn(a,Pe(i))+1;return di(a,0,h).join("")}function Sp(e,i,o){if(e=Mt(e),e&&(o||i===u))return e.replace(to,"");if(!e||!(i=De(i)))return e;var a=Pe(e),h=hs(a,Pe(i));return di(a,h).join("")}function Cp(e,i){var o=Ji,a=ne;if(Ut(i)){var h="separator"in i?i.separator:h;o="length"in i?pt(i.length):o,a="omission"in i?De(i.omission):a}e=Mt(e);var _=e.length;if(pe(e)){var g=Pe(e);_=g.length}if(o>=_)return e;var y=o-nn(a);if(y<1)return a;var T=g?di(g,0,y).join(""):e.slice(0,y);if(h===u)return T+a;if(g&&(y+=T.length-y),uu(h)){if(e.slice(y).search(h)){var z,B=T;for(h.global||(h=Te(h.source,Mt(Cn.exec(h))+"g")),h.lastIndex=0;z=h.exec(B);)var Z=z.index;T=T.slice(0,Z===u?y:Z)}}else if(e.indexOf(De(h),y)!=y){var W=T.lastIndexOf(h);W>-1&&(T=T.slice(0,W))}return T+a}function Ap(e){return e=Mt(e),e&&Js.test(e)?e.replace(Xr,br):e}var Ep=Or(function(e,i,o){return e+(o?" ":"")+i.toUpperCase()}),fu=el("toUpperCase");function jl(e,i,o){return e=Mt(e),i=o?u:i,i===u?wr(e)?ri(e):Ci(e):e.match(i)||[]}var th=gt(function(e,i){try{return Wt(e,u,i)}catch(o){return au(o)?o:new rt(o)}}),Mp=Fn(function(e,i){return ce(i,function(o){o=Ln(o),Dn(e,o,ou(e[o],e))}),e});function Ip(e){var i=e==null?0:e.length,o=J();return e=i?zt(e,function(a){if(typeof a[1]!="function")throw new Se(x);return[o(a[0]),a[1]]}):[],gt(function(a){for(var h=-1;++h<i;){var _=e[h];if(Wt(_[0],this,a))return Wt(_[1],this,a)}})}function Op(e){return nf(Ye(e,N))}function cu(e){return function(){return e}}function zp(e,i){return e==null||e!==e?i:e}var Bp=il(),kp=il(!0);function ze(e){return e}function _u(e){return zu(typeof e=="function"?e:Ye(e,N))}function Rp(e){return ku(Ye(e,N))}function Zp(e,i){return Ru(e,Ye(i,N))}var Np=gt(function(e,i){return function(o){return Ao(o,e,i)}}),Dp=gt(function(e,i){return function(o){return Ao(e,o,i)}});function du(e,i,o){var a=te(i),h=xs(i,a);o==null&&!(Ut(i)&&(h.length||!a.length))&&(o=i,i=e,e=this,h=xs(i,te(i)));var _=!(Ut(o)&&"chain"in o)||!!o.chain,g=Un(e);return ce(h,function(y){var T=i[y];e[y]=T,g&&(e.prototype[y]=function(){var z=this.__chain__;if(_||z){var B=e(this.__wrapped__),Z=B.__actions__=Me(this.__actions__);return Z.push({func:T,args:arguments,thisArg:e}),B.__chain__=z,B}return T.apply(e,_n([this.value()],arguments))})}),e}function Wp(){return Jt._===this&&(Jt._=rn),this}function pu(){}function Fp(e){return e=pt(e),gt(function(i){return Zu(i,e)})}var Hp=$a(zt),Up=$a(_o),qp=$a(ni);function eh(e){return ja(e)?vo(Ln(e)):wf(e)}function Gp(e){return function(i){return e==null?u:Wi(e,i)}}var $p=ol(),Kp=ol(!0);function mu(){return[]}function gu(){return!1}function Yp(){return{}}function Vp(){return""}function Xp(){return!0}function Jp(e,i){if(e=pt(e),e<1||e>X)return[];var o=bt,a=m(e,bt);i=J(i),e-=bt;for(var h=vr(a,i);++o<e;)i(o);return h}function Qp(e){return ht(e)?zt(e,Ln):We(e)?[e]:Me(xl(Mt(e)))}function jp(e){var i=++oi;return Mt(e)+i}var tm=Cs(function(e,i){return e+i},0),em=Ka("ceil"),nm=Cs(function(e,i){return e/i},1),im=Ka("floor");function rm(e){return e&&e.length?ws(e,ze,Oa):u}function om(e,i){return e&&e.length?ws(e,J(i,2),Oa):u}function sm(e){return go(e,ze)}function am(e,i){return go(e,J(i,2))}function um(e){return e&&e.length?ws(e,ze,Ra):u}function lm(e,i){return e&&e.length?ws(e,J(i,2),Ra):u}var hm=Cs(function(e,i){return e*i},1),fm=Ka("round"),cm=Cs(function(e,i){return e-i},0);function _m(e){return e&&e.length?yo(e,ze):0}function dm(e,i){return e&&e.length?yo(e,J(i,2)):0}return c.after=R_,c.ary=Ol,c.assign=bd,c.assignIn=$l,c.assignInWith=Ws,c.assignWith=Pd,c.at=Td,c.before=zl,c.bind=ou,c.bindAll=Mp,c.bindKey=Bl,c.castArray=Y_,c.chain=El,c.chunk=ic,c.compact=rc,c.concat=oc,c.cond=Ip,c.conforms=Op,c.constant=cu,c.countBy=__,c.create=Sd,c.curry=kl,c.curryRight=Rl,c.debounce=Zl,c.defaults=Cd,c.defaultsDeep=Ad,c.defer=Z_,c.delay=N_,c.difference=sc,c.differenceBy=ac,c.differenceWith=uc,c.drop=lc,c.dropRight=hc,c.dropRightWhile=fc,c.dropWhile=cc,c.fill=_c,c.filter=p_,c.flatMap=v_,c.flatMapDeep=y_,c.flatMapDepth=w_,c.flatten=Tl,c.flattenDeep=dc,c.flattenDepth=pc,c.flip=D_,c.flow=Bp,c.flowRight=kp,c.fromPairs=mc,c.functions=kd,c.functionsIn=Rd,c.groupBy=x_,c.initial=vc,c.intersection=yc,c.intersectionBy=wc,c.intersectionWith=xc,c.invert=Nd,c.invertBy=Dd,c.invokeMap=b_,c.iteratee=_u,c.keyBy=P_,c.keys=te,c.keysIn=Oe,c.map=Bs,c.mapKeys=Fd,c.mapValues=Hd,c.matches=Rp,c.matchesProperty=Zp,c.memoize=Rs,c.merge=Ud,c.mergeWith=Kl,c.method=Np,c.methodOf=Dp,c.mixin=du,c.negate=Zs,c.nthArg=Fp,c.omit=qd,c.omitBy=Gd,c.once=W_,c.orderBy=T_,c.over=Hp,c.overArgs=F_,c.overEvery=Up,c.overSome=qp,c.partial=su,c.partialRight=Nl,c.partition=S_,c.pick=$d,c.pickBy=Yl,c.property=eh,c.propertyOf=Gp,c.pull=Tc,c.pullAll=Cl,c.pullAllBy=Sc,c.pullAllWith=Cc,c.pullAt=Ac,c.range=$p,c.rangeRight=Kp,c.rearg=H_,c.reject=E_,c.remove=Ec,c.rest=U_,c.reverse=iu,c.sampleSize=I_,c.set=Yd,c.setWith=Vd,c.shuffle=O_,c.slice=Mc,c.sortBy=k_,c.sortedUniq=Zc,c.sortedUniqBy=Nc,c.split=vp,c.spread=q_,c.tail=Dc,c.take=Wc,c.takeRight=Fc,c.takeRightWhile=Hc,c.takeWhile=Uc,c.tap=r_,c.throttle=G_,c.thru=zs,c.toArray=Ul,c.toPairs=Vl,c.toPairsIn=Xl,c.toPath=Qp,c.toPlainObject=Gl,c.transform=Xd,c.unary=$_,c.union=qc,c.unionBy=Gc,c.unionWith=$c,c.uniq=Kc,c.uniqBy=Yc,c.uniqWith=Vc,c.unset=Jd,c.unzip=ru,c.unzipWith=Al,c.update=Qd,c.updateWith=jd,c.values=kr,c.valuesIn=tp,c.without=Xc,c.words=jl,c.wrap=K_,c.xor=Jc,c.xorBy=Qc,c.xorWith=jc,c.zip=t_,c.zipObject=e_,c.zipObjectDeep=n_,c.zipWith=i_,c.entries=Vl,c.entriesIn=Xl,c.extend=$l,c.extendWith=Ws,du(c,c),c.add=tm,c.attempt=th,c.camelCase=rp,c.capitalize=Jl,c.ceil=em,c.clamp=ep,c.clone=V_,c.cloneDeep=J_,c.cloneDeepWith=Q_,c.cloneWith=X_,c.conformsTo=j_,c.deburr=Ql,c.defaultTo=zp,c.divide=nm,c.endsWith=op,c.eq=sn,c.escape=sp,c.escapeRegExp=ap,c.every=d_,c.find=m_,c.findIndex=bl,c.findKey=Ed,c.findLast=g_,c.findLastIndex=Pl,c.findLastKey=Md,c.floor=im,c.forEach=Ml,c.forEachRight=Il,c.forIn=Id,c.forInRight=Od,c.forOwn=zd,c.forOwnRight=Bd,c.get=lu,c.gt=td,c.gte=ed,c.has=Zd,c.hasIn=hu,c.head=Sl,c.identity=ze,c.includes=L_,c.indexOf=gc,c.inRange=np,c.invoke=Wd,c.isArguments=Ui,c.isArray=ht,c.isArrayBuffer=nd,c.isArrayLike=Ie,c.isArrayLikeObject=$t,c.isBoolean=id,c.isBuffer=pi,c.isDate=rd,c.isElement=od,c.isEmpty=sd,c.isEqual=ad,c.isEqualWith=ud,c.isError=au,c.isFinite=ld,c.isFunction=Un,c.isInteger=Dl,c.isLength=Ns,c.isMap=Wl,c.isMatch=hd,c.isMatchWith=fd,c.isNaN=cd,c.isNative=_d,c.isNil=pd,c.isNull=dd,c.isNumber=Fl,c.isObject=Ut,c.isObjectLike=Gt,c.isPlainObject=Bo,c.isRegExp=uu,c.isSafeInteger=md,c.isSet=Hl,c.isString=Ds,c.isSymbol=We,c.isTypedArray=Br,c.isUndefined=gd,c.isWeakMap=vd,c.isWeakSet=yd,c.join=Lc,c.kebabCase=up,c.last=Xe,c.lastIndexOf=bc,c.lowerCase=lp,c.lowerFirst=hp,c.lt=wd,c.lte=xd,c.max=rm,c.maxBy=om,c.mean=sm,c.meanBy=am,c.min=um,c.minBy=lm,c.stubArray=mu,c.stubFalse=gu,c.stubObject=Yp,c.stubString=Vp,c.stubTrue=Xp,c.multiply=hm,c.nth=Pc,c.noConflict=Wp,c.noop=pu,c.now=ks,c.pad=fp,c.padEnd=cp,c.padStart=_p,c.parseInt=dp,c.random=ip,c.reduce=C_,c.reduceRight=A_,c.repeat=pp,c.replace=mp,c.result=Kd,c.round=fm,c.runInContext=b,c.sample=M_,c.size=z_,c.snakeCase=gp,c.some=B_,c.sortedIndex=Ic,c.sortedIndexBy=Oc,c.sortedIndexOf=zc,c.sortedLastIndex=Bc,c.sortedLastIndexBy=kc,c.sortedLastIndexOf=Rc,c.startCase=yp,c.startsWith=wp,c.subtract=cm,c.sum=_m,c.sumBy=dm,c.template=xp,c.times=Jp,c.toFinite=qn,c.toInteger=pt,c.toLength=ql,c.toLower=Lp,c.toNumber=Je,c.toSafeInteger=Ld,c.toString=Mt,c.toUpper=bp,c.trim=Pp,c.trimEnd=Tp,c.trimStart=Sp,c.truncate=Cp,c.unescape=Ap,c.uniqueId=jp,c.upperCase=Ep,c.upperFirst=fu,c.each=Ml,c.eachRight=Il,c.first=Sl,du(c,function(){var e={};return wn(c,function(i,o){At.call(c.prototype,o)||(e[o]=i)}),e}(),{chain:!1}),c.VERSION=w,ce(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){c[e].placeholder=c}),ce(["drop","take"],function(e,i){vt.prototype[e]=function(o){o=o===u?1:f(pt(o),0);var a=this.__filtered__&&!i?new vt(this):this.clone();return a.__filtered__?a.__takeCount__=m(o,a.__takeCount__):a.__views__.push({size:m(o,bt),type:e+(a.__dir__<0?"Right":"")}),a},vt.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),ce(["filter","map","takeWhile"],function(e,i){var o=i+1,a=o==qe||o==ue;vt.prototype[e]=function(h){var _=this.clone();return _.__iteratees__.push({iteratee:J(h,3),type:o}),_.__filtered__=_.__filtered__||a,_}}),ce(["head","last"],function(e,i){var o="take"+(i?"Right":"");vt.prototype[e]=function(){return this[o](1).value()[0]}}),ce(["initial","tail"],function(e,i){var o="drop"+(i?"":"Right");vt.prototype[e]=function(){return this.__filtered__?new vt(this):this[o](1)}}),vt.prototype.compact=function(){return this.filter(ze)},vt.prototype.find=function(e){return this.filter(e).head()},vt.prototype.findLast=function(e){return this.reverse().find(e)},vt.prototype.invokeMap=gt(function(e,i){return typeof e=="function"?new vt(this):this.map(function(o){return Ao(o,e,i)})}),vt.prototype.reject=function(e){return this.filter(Zs(J(e)))},vt.prototype.slice=function(e,i){e=pt(e);var o=this;return o.__filtered__&&(e>0||i<0)?new vt(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),i!==u&&(i=pt(i),o=i<0?o.dropRight(-i):o.take(i-e)),o)},vt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},vt.prototype.toArray=function(){return this.take(bt)},wn(vt.prototype,function(e,i){var o=/^(?:filter|find|map|reject)|While$/.test(i),a=/^(?:head|last)$/.test(i),h=c[a?"take"+(i=="last"?"Right":""):i],_=a||/^find/.test(i);h&&(c.prototype[i]=function(){var g=this.__wrapped__,y=a?[1]:arguments,T=g instanceof vt,z=y[0],B=T||ht(g),Z=function(yt){var Lt=h.apply(c,_n([yt],y));return a&&W?Lt[0]:Lt};B&&o&&typeof z=="function"&&z.length!=1&&(T=B=!1);var W=this.__chain__,$=!!this.__actions__.length,j=_&&!W,mt=T&&!$;if(!_&&B){g=mt?g:new vt(this);var tt=e.apply(g,y);return tt.__actions__.push({func:zs,args:[Z],thisArg:u}),new me(tt,W)}return j&&mt?e.apply(this,y):(tt=this.thru(Z),j?a?tt.value()[0]:tt.value():tt)})}),ce(["pop","push","shift","sort","splice","unshift"],function(e){var i=kn[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);c.prototype[e]=function(){var h=arguments;if(a&&!this.__chain__){var _=this.value();return i.apply(ht(_)?_:[],h)}return this[o](function(g){return i.apply(ht(g)?g:[],h)})}}),wn(vt.prototype,function(e,i){var o=c[i];if(o){var a=o.name+"";At.call(ui,a)||(ui[a]=[]),ui[a].push({name:i,func:o})}}),ui[Ss(u,Et).name]=[{name:"wrapper",func:u}],vt.prototype.clone=Ch,vt.prototype.reverse=Ah,vt.prototype.value=Eh,c.prototype.at=o_,c.prototype.chain=s_,c.prototype.commit=a_,c.prototype.next=u_,c.prototype.plant=h_,c.prototype.reverse=f_,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=c_,c.prototype.first=c.prototype.head,si&&(c.prototype[si]=l_),c},dn=Tr();Ne?((Ne.exports=dn)._=dn,fe._=dn):Jt._=dn}).call(Dr)})(Fm,$n);function sh(d,p,u){const w=d.slice();return w[21]=p[u],w}function ah(d,p,u){const w=d.slice();return w[17]=p[u][0],w[18]=p[u][1],w}function Hm(d){let p,u,w=d[5]=="country"&&uh(d),v=d[5]=="region"&&hh(d);return{c(){w&&w.c(),p=Nt(),v&&v.c(),u=Yi()},m(P,x){w&&w.m(P,x),et(P,p,x),v&&v.m(P,x),et(P,u,x)},p(P,x){P[5]=="country"?w?w.p(P,x):(w=uh(P),w.c(),w.m(p.parentNode,p)):w&&(w.d(1),w=null),P[5]=="region"?v?v.p(P,x):(v=hh(P),v.c(),v.m(u.parentNode,u)):v&&(v.d(1),v=null)},d(P){w&&w.d(P),P&&V(p),v&&v.d(P),P&&V(u)}}}function Um(d){let p,u,w,v,P,x,M,S,O,H,N=Object.entries(d[6]),G=[];for(let k=0;k<N.length;k+=1)G[k]=ph(ah(d,N,k));return{c(){p=st("div"),p.innerHTML='<span class="country-title">DeRad Title</span>',u=Nt(),w=st("span"),w.textContent="Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt sed ea minus aut quo, fugit odit ipsam, laborum, iure quas deserunt quos eius adipisci mollitia possimus voluptatum ad. Quasi, facilis.",v=Nt(),P=st("br"),x=st("br"),M=Nt(),S=st("span"),S.textContent="Number of Recorded Events",O=Nt();for(let k=0;k<G.length;k+=1)G[k].c();H=Yi(),ft(w,"class","event-info"),ft(S,"class","event-title")},m(k,K){et(k,p,K),et(k,u,K),et(k,w,K),et(k,v,K),et(k,P,K),et(k,x,K),et(k,M,K),et(k,S,K),et(k,O,K);for(let D=0;D<G.length;D+=1)G[D]&&G[D].m(k,K);et(k,H,K)},p(k,K){if(K&64){N=Object.entries(k[6]);let D;for(D=0;D<N.length;D+=1){const it=ah(k,N,D);G[D]?G[D].p(it,K):(G[D]=ph(it),G[D].c(),G[D].m(H.parentNode,H))}for(;D<G.length;D+=1)G[D].d(1);G.length=N.length}},d(k){k&&V(p),k&&V(u),k&&V(w),k&&V(v),k&&V(P),k&&V(x),k&&V(M),k&&V(S),k&&V(O),Lh(G,k),k&&V(H)}}}function uh(d){let p,u,w,v,P,x=d[7]&&lh(d);return{c(){p=st("p"),p.textContent="Back to World",u=Nt(),x&&x.c(),w=Yi(),ft(p,"class","back-button svelte-1uvkqt1")},m(M,S){et(M,p,S),et(M,u,S),x&&x.m(M,S),et(M,w,S),v||(P=Ro(p,"click",d[10]),v=!0)},p(M,S){M[7]?x?x.p(M,S):(x=lh(M),x.c(),x.m(w.parentNode,w)):x&&(x.d(1),x=null)},d(M){M&&V(p),M&&V(u),x&&x.d(M),M&&V(w),v=!1,P()}}}function lh(d){let p,u,w,v,P,x=d[7].length+"",M,S,O,H,N,G,k=d[8].Info+"",K;return{c(){p=st("p"),u=Xt(d[0]),w=Nt(),v=st("p"),P=Xt("There are "),M=Xt(x),S=Nt(),O=Xt(d[1]),H=Xt("ization events"),N=Nt(),G=st("p"),K=Xt(k),ft(p,"class","country-title"),ft(v,"class","country-info"),ft(G,"class","country-info")},m(D,it){et(D,p,it),ot(p,u),et(D,w,it),et(D,v,it),ot(v,P),ot(v,M),ot(v,S),ot(v,O),ot(v,H),et(D,N,it),et(D,G,it),ot(G,K)},p(D,it){it&1&&Ue(u,D[0]),it&128&&x!==(x=D[7].length+"")&&Ue(M,x),it&2&&Ue(O,D[1]),it&256&&k!==(k=D[8].Info+"")&&Ue(K,k)},d(D){D&&V(p),D&&V(w),D&&V(v),D&&V(N),D&&V(G)}}}function hh(d){let p,u,w,v,P,x,M,S,O,H,N,G,k,K;function D(dt,U){return dt[3]!=""?Gm:qm}let it=D(d),Et=it(d);return{c(){p=st("div"),u=st("span"),u.textContent="Back to World",w=Nt(),v=st("span"),v.textContent=">",P=Nt(),x=st("span"),M=Xt(d[0]),S=Nt(),O=st("h3"),H=Xt(d[2]),N=Nt(),Et.c(),G=Yi(),ft(u,"class","back-button svelte-1uvkqt1"),ft(v,"class","back-button svelte-1uvkqt1"),bm(v,"text-decoration","none"),ft(x,"class","back-button svelte-1uvkqt1"),ft(p,"class","go-back"),ft(O,"class","info-content")},m(dt,U){et(dt,p,U),ot(p,u),ot(p,w),ot(p,v),ot(p,P),ot(p,x),ot(x,M),et(dt,S,U),et(dt,O,U),ot(O,H),et(dt,N,U),Et.m(dt,U),et(dt,G,U),k||(K=[Ro(u,"click",d[10]),Ro(x,"click",d[11])],k=!0)},p(dt,U){U&1&&Ue(M,dt[0]),U&4&&Ue(H,dt[2]),it===(it=D(dt))&&Et?Et.p(dt,U):(Et.d(1),Et=it(dt),Et&&(Et.c(),Et.m(G.parentNode,G)))},d(dt){dt&&V(p),dt&&V(S),dt&&V(O),dt&&V(N),Et.d(dt),dt&&V(G),k=!1,Ur(K)}}}function qm(d){let p,u,w=d[4]["Region Info"]+"",v;return{c(){p=st("p"),u=st("span"),v=Xt(w),ft(u,"class","event-info")},m(P,x){et(P,p,x),ot(p,u),ot(u,v)},p(P,x){x&16&&w!==(w=P[4]["Region Info"]+"")&&Ue(v,w)},d(P){P&&V(p)}}}function Gm(d){let p,u,w,v=d[9]["Event Type"]+"",P,x,M,S,O,H,N=d[9]["Event Description"]+"",G,k,K,D,it,Et,dt=d[9].Location+"",U,Qt,Ft,Bt=d[1]==="deradical"&&fh(d);return{c(){p=st("p"),u=st("span"),u.textContent="Event Type: ",w=st("span"),P=Xt(v),x=Nt(),M=st("p"),S=st("span"),S.textContent="Event Description:",O=st("br"),H=st("span"),G=Xt(N),k=Nt(),K=st("p"),D=st("span"),D.textContent="Location: ",it=st("br"),Et=st("span"),U=Xt(dt),Qt=Nt(),Bt&&Bt.c(),Ft=Yi(),ft(u,"class","event-title"),ft(w,"class","event-info"),ft(S,"class","event-title"),ft(H,"class","event-info"),ft(D,"class","event-title"),ft(Et,"class","event-info")},m(ct,Dt){et(ct,p,Dt),ot(p,u),ot(p,w),ot(w,P),et(ct,x,Dt),et(ct,M,Dt),ot(M,S),ot(M,O),ot(M,H),ot(H,G),et(ct,k,Dt),et(ct,K,Dt),ot(K,D),ot(K,it),ot(K,Et),ot(Et,U),et(ct,Qt,Dt),Bt&&Bt.m(ct,Dt),et(ct,Ft,Dt)},p(ct,Dt){Dt&512&&v!==(v=ct[9]["Event Type"]+"")&&Ue(P,v),Dt&512&&N!==(N=ct[9]["Event Description"]+"")&&Ue(G,N),Dt&512&&dt!==(dt=ct[9].Location+"")&&Ue(U,dt),ct[1]==="deradical"?Bt?Bt.p(ct,Dt):(Bt=fh(ct),Bt.c(),Bt.m(Ft.parentNode,Ft)):Bt&&(Bt.d(1),Bt=null)},d(ct){ct&&V(p),ct&&V(x),ct&&V(M),ct&&V(k),ct&&V(K),ct&&V(Qt),Bt&&Bt.d(ct),ct&&V(Ft)}}}function fh(d){let p,u,w=["Program Name","Approach","Targets","Scale","Agents","Date"],v=[];for(let x=0;x<6;x+=1)v[x]=_h(sh(d,w,x));let P=d[9].Links&&dh(d);return{c(){for(let x=0;x<6;x+=1)v[x].c();p=Nt(),P&&P.c(),u=Yi()},m(x,M){for(let S=0;S<6;S+=1)v[S]&&v[S].m(x,M);et(x,p,M),P&&P.m(x,M),et(x,u,M)},p(x,M){if(M&512){w=["Program Name","Approach","Targets","Scale","Agents","Date"];let S;for(S=0;S<6;S+=1){const O=sh(x,w,S);v[S]?v[S].p(O,M):(v[S]=_h(O),v[S].c(),v[S].m(p.parentNode,p))}for(;S<6;S+=1)v[S].d(1)}x[9].Links?P?P.p(x,M):(P=dh(x),P.c(),P.m(u.parentNode,u)):P&&(P.d(1),P=null)},d(x){Lh(v,x),x&&V(p),P&&P.d(x),x&&V(u)}}}function ch(d){let p,u,w,v,P,x=d[9][d[21]]+"",M;return{c(){p=st("p"),u=st("span"),w=Xt(d[21]),v=Xt(": "),P=st("span"),M=Xt(x),ft(u,"class","event-title"),ft(P,"class","event-info")},m(S,O){et(S,p,O),ot(p,u),ot(u,w),ot(p,v),ot(p,P),ot(P,M)},p(S,O){O&512&&x!==(x=S[9][S[21]]+"")&&Ue(M,x)},d(S){S&&V(p)}}}function _h(d){let p,u=d[9][d[21]]&&ch(d);return{c(){u&&u.c(),p=Yi()},m(w,v){u&&u.m(w,v),et(w,p,v)},p(w,v){w[9][w[21]]?u?u.p(w,v):(u=ch(w),u.c(),u.m(p.parentNode,p)):u&&(u.d(1),u=null)},d(w){u&&u.d(w),w&&V(p)}}}function dh(d){let p,u,w;return{c(){p=st("a"),u=Xt("Event Link"),ft(p,"target","_blank"),ft(p,"href",w=d[9].Links)},m(v,P){et(v,p,P),ot(p,u)},p(v,P){P&512&&w!==(w=v[9].Links)&&ft(p,"href",w)},d(v){v&&V(p)}}}function ph(d){let p,u,w=d[17]+"",v,P,x,M=d[18]+"",S,O,H,N;function G(){return d[13](d[17])}return{c(){p=st("div"),u=st("span"),v=Xt(w),P=Nt(),x=st("span"),S=Xt(M),O=Nt(),ft(u,"class","country-name"),ft(x,"class","country-count"),ft(p,"class","country-count")},m(k,K){et(k,p,K),ot(p,u),ot(u,v),ot(p,P),ot(p,x),ot(x,S),ot(p,O),H||(N=Ro(p,"click",G),H=!0)},p(k,K){d=k,K&64&&w!==(w=d[17]+"")&&Ue(v,w),K&64&&M!==(M=d[18]+"")&&Ue(S,M)},d(k){k&&V(p),H=!1,N()}}}function mh(d){let p,u,w;return u=new Wm({}),{c(){p=st("div"),Fr(u.$$.fragment),ft(p,"id","switch-holder")},m(v,P){et(v,p,P),Gi(u,p,null),w=!0},i(v){w||(Be(u.$$.fragment,v),w=!0)},o(v){ln(u.$$.fragment,v),w=!1},d(v){v&&V(p),$i(u)}}}function $m(d){let p,u,w,v;function P(O,H){return O[5]=="world"?Um:Hm}let x=P(d),M=x(d),S=d[5]!=="world"&&mh();return{c(){p=st("div"),u=st("div"),M.c(),w=Nt(),S&&S.c(),ft(u,"class","left-content"),ft(p,"class","panel"),ft(p,"id","left-panel")},m(O,H){et(O,p,H),ot(p,u),M.m(u,null),ot(p,w),S&&S.m(p,null),v=!0},p(O,[H]){x===(x=P(O))&&M?M.p(O,H):(M.d(1),M=x(O),M&&(M.c(),M.m(u,null))),O[5]!=="world"?S?H&32&&Be(S,1):(S=mh(),S.c(),Be(S,1),S.m(p,null)):S&&(Th(),ln(S,1,1,()=>{S=null}),Sh())},i(O){v||(Be(S),v=!0)},o(O){ln(S),v=!1},d(O){O&&V(p),M.d(),S&&S.d()}}}function Km(d,p,u){let{data_all:w}=p,v=w.main,P=w.country_info,x;Ki.subscribe(U=>{u(0,x=U)});let M;bn.subscribe(U=>{u(5,M=U)});let S;Hr.subscribe(U=>{u(1,S=U)});let O;mi.subscribe(U=>{u(2,O=U)});let H;Hs.subscribe(U=>{u(3,H=U)});function N(){bn.set("world"),mi.set(""),Hs.set(""),document.getElementById("left-panel").style.minWidth="60px"}function G(){mi.set(""),Hs.set(""),bn.set("country")}let k=$n.groupBy(v,"Country");for(const[U,Qt]of Object.entries(k))U!=="null"?k[U]=Qt.length:delete k[U];let K,D,it,Et;const dt=U=>{Ki.set(U),bn.set("country")};return d.$$set=U=>{"data_all"in U&&u(12,w=U.data_all)},d.$$.update=()=>{d.$$.dirty&3&&x&&S&&(u(7,K=v.filter(U=>U.source==S&&U.NAME==x)),u(8,D=P.find(U=>U.Country==x))),d.$$.dirty&22&&O&&S&&(u(4,it=v.filter(U=>U.source==S&&U.Region==O)),u(4,it=it[0]),console.log(it)),d.$$.dirty&8&&H!=""&&u(9,Et=v.find(U=>U.uid==H))},[x,S,O,H,it,M,k,K,D,Et,N,G,w,dt]}class Ym extends Xi{constructor(p){super(),Vi(this,p,Km,$m,gi,{data_all:12})}}function Vm(){document.querySelectorAll(".region").forEach(function(d){d.parentNode.removeChild(d)}),document.querySelectorAll(".region-circle").forEach(function(d){d.parentNode.removeChild(d)}),document.querySelectorAll(".region-annot").forEach(function(d){d.parentNode.removeChild(d)})}function Xm(d,p,u){let w;xu(d,qs,k=>u(5,w=k));let{data:v}=p,P=v.main,x=w,M;bn.subscribe(k=>{u(1,M=k)});let S;Hr.subscribe(k=>{u(2,S=k)});let O;Ki.subscribe(k=>{u(3,O=k)});let H;mi.subscribe(k=>{u(4,H=k)});function N(){return function(k){let K=k.target.options.icon.options.id;mi.set(K),bn.set("region")}}function G(k,K,D){Vm();let it=k.filter(dt=>dt.source==K);D&&(it=it.filter(dt=>dt.NAME==D));let Et=$n.groupBy(it,"Region");for(const[dt,U]of Object.entries(Et)){let Qt=$n.mean($n.map(U,"lat")),Ft=$n.mean($n.map(U,"lon")),Bt=U[0].NAME,ct=U.length,Dt=`<b>${dt}</b><br>${ct} events`,we;ct>5?we=28:ct>1?we=20:we=12;let Ji=un.divIcon({className:`region ${K} ${Bt}`,id:dt,html:`<div class="region-circle" style="width:${we}px;height:${we}px"><div class="region-annot"><div id="symbology" style="line-height:${we}px">${ct}</div></div></div>`});un.marker([Qt,Ft],{icon:Ji}).addTo(x).bindTooltip(Dt).on("click",N())}}return d.$$set=k=>{"data"in k&&u(0,v=k.data)},d.$$.update=()=>{d.$$.dirty&28&&S!=""&&O!=""&&H===""&&(S==="radical"?(console.log("Source is radical"),G(P,S,O)):(console.log("Source is de-radical"),G(P,S,O))),d.$$.dirty&2&&(M!=="country"?(document.querySelectorAll(".region").forEach(function(k){k.style.display="none"}),document.querySelectorAll(".region-circle").forEach(function(k){k.style.display="none"}),document.querySelectorAll(".region-annot").forEach(function(k){k.style.display="none"}),document.querySelectorAll(".country").forEach(function(k){k.style.display="none"})):(document.querySelectorAll(".region").forEach(function(k){k.style.display="block"}),document.querySelectorAll(".region-circle").forEach(function(k){k.style.display="block"}),document.querySelectorAll(".region-annot").forEach(function(k){k.style.display="block"}),document.querySelectorAll(".country").forEach(function(k){k.style.display="block"}))),d.$$.dirty&2&&M==="world"&&(console.log("this is the world"),document.querySelectorAll(".country").forEach(function(k){k.style.display="block"}))},[v,M,S,O,H]}class Jm extends Xi{constructor(p){super(),Vi(this,p,Xm,null,gi,{data:0})}}function gh(){document.querySelectorAll(".event").forEach(function(d){d.parentNode.removeChild(d)})}function Qm(d,p,u){let w;xu(d,qs,O=>u(6,w=O));let{points:v}=p,P;mi.subscribe(O=>{u(1,P=O)});let x;Hr.subscribe(O=>{u(2,x=O)}),Ki.subscribe(O=>{}),bn.subscribe(O=>{});let M=w,S;return d.$$set=O=>{"points"in O&&u(0,v=O.points)},d.$$.update=()=>{if(d.$$.dirty&15)if(P!=""){gh(),u(3,S=v.filter(H=>H.Region==P&&H.source==x)),console.log(x);let O=[];S.forEach(function(H){let N=`<div class="popup-container"><b>${P}</b><br><p>${H["Event Type"]}</p><br><p>${H.address}</p></div>`,G=un.marker([H.lat,H.lon],{icon:un.divIcon({className:["event-icon","event",x].join(" "),iconSize:[15,15]})}).addTo(M);G.bindTooltip(N).on("click",function(k){Hs.set(H.uid)}),console.log(G._icon),G._icon.id=H.uid,O.push(G)}),M.flyToBounds(un.featureGroup(O).getBounds(),{padding:[120,120],maxZoom:11})}else gh()},[v,P,x,S]}class jm extends Xi{constructor(p){super(),Vi(this,p,Qm,null,gi,{points:0})}}function vh(d){let p,u,w,v;return p=new Ym({props:{data_all:d[0]}}),w=new Bm({props:{$$slots:{default:[tg]},$$scope:{ctx:d}}}),{c(){Fr(p.$$.fragment),u=Nt(),Fr(w.$$.fragment)},m(P,x){Gi(p,P,x),et(P,u,x),Gi(w,P,x),v=!0},p(P,x){const M={};x&1&&(M.data_all=P[0]),p.$set(M);const S={};x&5&&(S.$$scope={dirty:x,ctx:P}),w.$set(S)},i(P){v||(Be(p.$$.fragment,P),Be(w.$$.fragment,P),v=!0)},o(P){ln(p.$$.fragment,P),ln(w.$$.fragment,P),v=!1},d(P){$i(p,P),P&&V(u),$i(w,P)}}}function tg(d){let p,u,w,v,P,x;return p=new Zm({props:{polygon:d[0].world}}),w=new Jm({props:{data:d[0]}}),P=new jm({props:{points:d[0].main}}),{c(){Fr(p.$$.fragment),u=Nt(),Fr(w.$$.fragment),v=Nt(),Fr(P.$$.fragment)},m(M,S){Gi(p,M,S),et(M,u,S),Gi(w,M,S),et(M,v,S),Gi(P,M,S),x=!0},p(M,S){const O={};S&1&&(O.polygon=M[0].world),p.$set(O);const H={};S&1&&(H.data=M[0]),w.$set(H);const N={};S&1&&(N.points=M[0].main),P.$set(N)},i(M){x||(Be(p.$$.fragment,M),Be(w.$$.fragment,M),Be(P.$$.fragment,M),x=!0)},o(M){ln(p.$$.fragment,M),ln(w.$$.fragment,M),ln(P.$$.fragment,M),x=!1},d(M){$i(p,M),M&&V(u),$i(w,M),M&&V(v),$i(P,M)}}}function eg(d){let p,u,w,v,P,x,M,S=d[0].main.length>0&&d[0].world.length>0&&d[0].country_info.length>0&&vh(d);return{c(){p=st("link"),u=st("link"),w=st("link"),v=st("link"),P=Nt(),x=st("main"),S&&S.c(),ft(p,"rel","stylesheet"),ft(p,"href","assets/leaflet/leaflet.css"),ft(u,"rel","preconnect"),ft(u,"href","https://fonts.googleapis.com"),ft(w,"rel","preconnect"),ft(w,"href","https://fonts.gstatic.com"),ft(w,"crossorigin",""),ft(v,"href","https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&display=swap"),ft(v,"rel","stylesheet")},m(O,H){ot(document.head,p),ot(document.head,u),ot(document.head,w),ot(document.head,v),et(O,P,H),et(O,x,H),S&&S.m(x,null),M=!0},p(O,[H]){O[0].main.length>0&&O[0].world.length>0&&O[0].country_info.length>0?S?(S.p(O,H),H&1&&Be(S,1)):(S=vh(O),S.c(),Be(S,1),S.m(x,null)):S&&(Th(),ln(S,1,1,()=>{S=null}),Sh())},i(O){M||(Be(S),M=!0)},o(O){ln(S),M=!1},d(O){V(p),V(u),V(w),V(v),O&&V(P),O&&V(x),S&&S.d()}}}function ng(d,p,u){let w;bn.subscribe(P=>{u(1,w=P)}),Hr.set("radical");let v={world:[],main:[],country_info:[]};return bh(async()=>{const x=await(await fetch("data/DeRad_Boundaries.geojson")).json();u(0,v.world=x.features,v);const S=await(await fetch("data/data_update.json")).json();u(0,v.main=S,v);const H=await(await fetch("data/DRad_County.json")).json();u(0,v.country_info=H,v)}),d.$$.update=()=>{d.$$.dirty&2&&w&&console.log(w)},[v,w]}class ig extends Xi{constructor(p){super(),Vi(this,p,ng,eg,gi,{})}}new ig({target:document.getElementById("app")});
